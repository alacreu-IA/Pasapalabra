<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
<title>PasaPalabra Pro</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Syne:wght@400;700;800&family=DM+Sans:wght@300;400;500&display=swap');
*{box-sizing:border-box;margin:0;padding:0;-webkit-tap-highlight-color:transparent;}
:root{--bg:#0a0a0f;--card:#13131a;--card2:#1a1a24;--border:#2a2a38;--gold:#f5c842;--gold2:#e8a800;--blue:#4a9eff;--green:#3ecf72;--red:#ff5555;--text:#f0f0f5;--text2:#8888a8;--r:16px;}
html,body{height:100%;background:var(--bg);color:var(--text);font-family:'DM Sans',sans-serif;overflow:hidden;}
#app{height:100%;position:relative;}
.screen{position:absolute;inset:0;display:flex;flex-direction:column;opacity:0;pointer-events:none;transition:opacity .2s,transform .2s;transform:translateY(12px);overflow-y:auto;overflow-x:hidden;}
.screen.active{opacity:1;pointer-events:all;transform:translateY(0);}
/* HOME */
.home-top{padding:28px 20px 20px;background:linear-gradient(160deg,#13131a,#0d0d15);border-bottom:1px solid var(--border);}
.app-title{font-family:'Syne',sans-serif;font-size:26px;font-weight:800;letter-spacing:-1px;}
.app-title span{color:var(--gold);}
.app-sub{font-size:12px;color:var(--text2);margin-top:2px;}
.stats-row{display:flex;gap:10px;margin-top:16px;}
.stat-box{flex:1;background:var(--card2);border:1px solid var(--border);border-radius:12px;padding:10px;text-align:center;}
.stat-val{font-family:'Syne',sans-serif;font-size:20px;font-weight:700;color:var(--gold);}
.stat-lbl{font-size:10px;color:var(--text2);margin-top:2px;text-transform:uppercase;letter-spacing:.4px;}
.streak-badge{display:inline-flex;align-items:center;gap:6px;background:rgba(245,200,66,.1);border:1px solid rgba(245,200,66,.3);border-radius:20px;padding:5px 12px;font-size:12px;color:var(--gold);margin-top:10px;}
.home-body{padding:16px;}
.sec-title{font-family:'Syne',sans-serif;font-size:12px;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:var(--text2);margin-bottom:10px;}
.mode-grid{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-bottom:18px;}
.mc{background:var(--card);border:1px solid var(--border);border-radius:var(--r);padding:14px;cursor:pointer;transition:all .15s;display:flex;flex-direction:column;gap:6px;position:relative;overflow:hidden;}
.mc:active{transform:scale(.97);}
.mc-icon{font-size:22px;}
.mc-name{font-family:'Syne',sans-serif;font-size:13px;font-weight:700;}
.mc-desc{font-size:11px;color:var(--text2);line-height:1.4;}
.mc-badge{position:absolute;top:8px;right:8px;background:var(--gold);color:#000;font-size:9px;font-weight:700;padding:2px 6px;border-radius:20px;font-family:'Syne',sans-serif;}
.deck-list{display:flex;flex-direction:column;gap:7px;margin-bottom:16px;}
.di{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:12px 14px;display:flex;align-items:center;gap:10px;cursor:pointer;transition:all .15s;}
.di:active{transform:scale(.98);}
.di.sel{border-color:var(--gold);background:rgba(245,200,66,.06);}
.di-icon{font-size:18px;width:28px;text-align:center;}
.di-name{font-size:13px;font-weight:500;flex:1;}
.di-ct{font-size:11px;color:var(--text2);}
.di-chk{width:20px;height:20px;border-radius:50%;border:2px solid var(--border);display:flex;align-items:center;justify-content:center;font-size:11px;transition:all .15s;}
.di.sel .di-chk{background:var(--gold);border-color:var(--gold);color:#000;}
.btn-start{width:100%;background:var(--gold);color:#000;border:none;border-radius:12px;padding:14px;font-family:'Syne',sans-serif;font-size:15px;font-weight:700;cursor:pointer;transition:all .15s;margin-bottom:7px;}
.btn-start:active{transform:scale(.98);}
.nav-row{display:flex;gap:7px;margin-bottom:20px;}
.nav-btn{flex:1;background:var(--card);border:1px solid var(--border);border-radius:10px;padding:11px;text-align:center;font-size:12px;color:var(--text2);cursor:pointer;transition:all .15s;}
.nav-btn:active{background:var(--card2);}
/* TOPBAR */
.topbar{display:flex;align-items:center;gap:12px;padding:14px 16px;background:var(--card);border-bottom:1px solid var(--border);flex-shrink:0;}
.btn-back{width:34px;height:34px;background:var(--card2);border:1px solid var(--border);border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:15px;transition:all .15s;flex-shrink:0;}
.btn-back:active{transform:scale(.9);}
.pw{flex:1;height:5px;background:var(--border);border-radius:3px;overflow:hidden;}
.pb{height:100%;background:linear-gradient(90deg,var(--gold),var(--gold2));border-radius:3px;transition:width .4s ease;}
.pt{font-size:12px;color:var(--text2);white-space:nowrap;font-family:'Syne',sans-serif;}
/* TRAIN */
.tbody{flex:1;padding:16px;display:flex;flex-direction:column;gap:14px;overflow-y:auto;}
.dtag{display:inline-flex;align-items:center;gap:5px;background:var(--card2);border:1px solid var(--border);border-radius:20px;padding:4px 10px;font-size:11px;color:var(--text2);width:fit-content;}
.qcard{background:var(--card);border:1px solid var(--border);border-radius:var(--r);padding:20px;min-height:140px;display:flex;flex-direction:column;justify-content:center;}
.qlbl{font-size:10px;text-transform:uppercase;letter-spacing:.7px;color:var(--text2);margin-bottom:8px;font-family:'Syne',sans-serif;}
.qtxt{font-size:17px;line-height:1.5;}
.awrap{display:flex;gap:7px;}
.ai{flex:1;background:var(--card2);border:2px solid var(--border);border-radius:11px;padding:13px 14px;color:var(--text);font-size:16px;font-family:'DM Sans',sans-serif;outline:none;transition:border-color .15s;}
.ai:focus{border-color:var(--gold);}
.ai.ok{border-color:var(--green);background:rgba(62,207,114,.08);}
.ai.bad{border-color:var(--red);background:rgba(255,85,85,.08);}
.btn-sub{background:var(--gold);color:#000;border:none;border-radius:11px;padding:13px 18px;font-family:'Syne',sans-serif;font-size:14px;font-weight:700;cursor:pointer;transition:all .15s;}
.btn-sub:active{transform:scale(.96);}
.fb{border-radius:11px;padding:0;max-height:0;overflow:hidden;transition:max-height .3s,padding .3s,opacity .3s;opacity:0;}
.fb.show{padding:14px;max-height:200px;opacity:1;}
.fb.ok{background:rgba(62,207,114,.1);border:1px solid rgba(62,207,114,.3);}
.fb.bad{background:rgba(255,85,85,.1);border:1px solid rgba(255,85,85,.3);}
.fb-ans{font-size:14px;font-weight:500;}
/* ANKI buttons */
.anki-row{display:none;gap:7px;}
.anki-row.show{display:flex;}
.abtn{flex:1;border:none;border-radius:11px;padding:11px 6px;font-family:'Syne',sans-serif;font-size:12px;font-weight:700;cursor:pointer;transition:all .15s;display:flex;flex-direction:column;align-items:center;gap:2px;}
.abtn:active{transform:scale(.96);}
.abtn .al{font-size:10px;font-weight:400;opacity:.75;}
.ba{background:rgba(255,85,85,.2);color:var(--red);border:1px solid rgba(255,85,85,.3);}
.bh{background:rgba(245,200,66,.15);color:var(--gold);border:1px solid rgba(245,200,66,.3);}
.bg{background:rgba(74,158,255,.2);color:var(--blue);border:1px solid rgba(74,158,255,.3);}
.be{background:rgba(62,207,114,.2);color:var(--green);border:1px solid rgba(62,207,114,.3);}
.skip-h{text-align:center;font-size:11px;color:var(--text2);cursor:pointer;padding-top:2px;}
/* VOCAB */
.vcbody{flex:1;padding:16px;display:flex;flex-direction:column;gap:10px;overflow-y:auto;}
.vcard{background:var(--card);border:1px solid var(--border);border-radius:var(--r);padding:20px;flex:1;min-height:200px;display:flex;flex-direction:column;cursor:pointer;transition:all .2s;position:relative;}
.vcard::after{content:'Toca para ver respuesta';position:absolute;bottom:12px;right:14px;font-size:10px;color:var(--text2);opacity:.5;}
.vcard.flipped::after{display:none;}
.vc-lbl{font-size:10px;text-transform:uppercase;letter-spacing:.7px;color:var(--text2);margin-bottom:10px;font-family:'Syne',sans-serif;}
.vc-front{display:flex;flex-direction:column;flex:1;}
.vc-back{display:none;flex-direction:column;flex:1;}
.vcard.flipped .vc-front{display:none;}
.vcard.flipped .vc-back{display:flex;}
.vword{font-family:'Syne',sans-serif;font-size:30px;font-weight:800;color:var(--gold);margin-bottom:6px;}
.vdef{font-size:14px;line-height:1.6;}
.vtags{display:flex;flex-wrap:wrap;gap:5px;margin-top:10px;}
.vtag{background:var(--card2);border:1px solid var(--border);border-radius:20px;padding:3px 8px;font-size:10px;color:var(--text2);}
.vib{background:var(--card2);border:1px solid var(--border);border-radius:8px;padding:9px 12px;margin-top:8px;font-size:12px;line-height:1.6;}
.vib .vl{font-size:9px;text-transform:uppercase;letter-spacing:.5px;color:var(--text2);margin-bottom:3px;font-family:'Syne',sans-serif;}
.vib.vsin{border-color:rgba(74,158,255,.3);color:var(--blue);}
.vib.vtip{border-color:rgba(245,200,66,.3);color:var(--gold);}
.rae-btn{display:flex;align-items:center;justify-content:center;gap:7px;background:linear-gradient(135deg,#003a6b,#005a9e);border:1px solid #0070c9;color:#fff;padding:11px;border-radius:11px;text-decoration:none;font-family:'Syne',sans-serif;font-size:12px;font-weight:700;margin-top:8px;}
.vrate-row{display:flex;gap:7px;flex-shrink:0;}
.vrb{flex:1;border:none;border-radius:11px;padding:13px 6px;font-family:'Syne',sans-serif;font-size:12px;font-weight:700;cursor:pointer;transition:all .15s;}
.vrb:active{transform:scale(.96);}
.vr-no{background:rgba(255,85,85,.2);color:var(--red);border:1px solid rgba(255,85,85,.3);}
.vr-rev{background:rgba(245,200,66,.15);color:var(--gold);border:1px solid rgba(245,200,66,.3);}
.vr-si{background:rgba(62,207,114,.2);color:var(--green);border:1px solid rgba(62,207,114,.3);}
/* ROSCO */
.rosco-body{flex:1;display:flex;flex-direction:column;align-items:center;padding:12px;gap:10px;overflow:hidden;}
#rosco-svg{width:260px;height:260px;flex-shrink:0;}
.r-def{font-size:12px;color:var(--text2);text-align:center;max-width:280px;min-height:36px;line-height:1.5;}
.rinput-wrap{display:flex;gap:7px;width:100%;max-width:320px;}
.ri{flex:1;background:var(--card2);border:2px solid var(--border);border-radius:11px;padding:13px 14px;color:var(--text);font-size:17px;font-family:'Syne',sans-serif;font-weight:700;text-transform:uppercase;outline:none;transition:border-color .15s;}
.ri:focus{border-color:var(--gold);}
.rsub{background:var(--gold);color:#000;border:none;border-radius:11px;padding:13px 18px;font-family:'Syne',sans-serif;font-size:14px;font-weight:700;cursor:pointer;}
.rpasa{width:100%;max-width:320px;background:var(--card2);border:1px solid var(--border);border-radius:11px;padding:11px;color:var(--text2);font-family:'Syne',sans-serif;font-size:13px;cursor:pointer;text-align:center;}
.rstats{display:flex;gap:20px;}
.rst .v{font-family:'Syne',sans-serif;font-size:18px;font-weight:700;text-align:center;}
.rst .l{font-size:10px;color:var(--text2);text-align:center;}
/* SVG letters */
.rl{cursor:pointer;}
.rl circle{transition:fill .15s,stroke .15s;}
/* STATS */
.bstat{background:var(--card);border:1px solid var(--border);border-radius:var(--r);padding:16px;margin-bottom:10px;display:flex;align-items:center;gap:14px;}
.bstat-icon{font-size:28px;}
.bstat-val{font-family:'Syne',sans-serif;font-size:26px;font-weight:800;color:var(--gold);}
.bstat-lbl{font-size:12px;color:var(--text2);}
.dp{background:var(--card);border:1px solid var(--border);border-radius:var(--r);padding:14px;margin-bottom:7px;}
.dp-h{display:flex;justify-content:space-between;margin-bottom:7px;}
.dp-n{font-size:13px;}
.dp-p{font-family:'Syne',sans-serif;font-size:13px;font-weight:700;color:var(--gold);}
.dpbar{height:5px;background:var(--border);border-radius:3px;overflow:hidden;}
.dpfill{height:100%;background:linear-gradient(90deg,var(--gold),var(--gold2));border-radius:3px;transition:width .6s ease;}
/* IMPORT */
.imp-field{width:100%;background:var(--card2);border:1px solid var(--border);border-radius:10px;padding:11px 13px;color:var(--text);font-size:13px;font-family:'DM Sans',sans-serif;outline:none;margin-bottom:7px;display:block;}
.imp-field:focus{border-color:var(--gold);}
.btn-act{width:100%;background:var(--card2);border:1px solid var(--border);border-radius:11px;padding:13px;color:var(--text);font-family:'Syne',sans-serif;font-size:13px;font-weight:600;cursor:pointer;margin-bottom:7px;text-align:center;}
.btn-act:active{background:var(--border);}
.btn-act.pri{background:var(--gold);color:#000;border-color:var(--gold);}
.btn-act.dan{color:var(--red);border-color:rgba(255,85,85,.3);}
hr{border:none;border-top:1px solid var(--border);margin:14px 0;}
/* SUMMARY */
#summary{justify-content:center;align-items:center;text-align:center;gap:14px;padding:24px;}
.sum-e{font-size:56px;}
.sum-t{font-family:'Syne',sans-serif;font-size:24px;font-weight:800;}
.sum-row{display:flex;gap:14px;}
.sum-s{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:12px 18px;}
.sum-sv{font-family:'Syne',sans-serif;font-size:22px;font-weight:800;color:var(--gold);}
.sum-sl{font-size:11px;color:var(--text2);}

/* AI DECKS */
.ai-deck-item{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:14px;display:flex;align-items:center;gap:10px;margin-bottom:8px;}
.ai-more-btn{background:rgba(74,158,255,.2);color:var(--blue);border:1px solid rgba(74,158,255,.3);border-radius:8px;padding:6px 10px;font-family:'Syne',sans-serif;font-size:11px;font-weight:700;cursor:pointer;white-space:nowrap;}
.ai-del-btn{background:rgba(255,85,85,.15);color:var(--red);border:1px solid rgba(255,85,85,.3);border-radius:8px;padding:6px 8px;font-size:12px;cursor:pointer;}
.ai-gen-area{background:var(--card);border:1px solid var(--border);border-radius:var(--r);padding:16px;margin-bottom:12px;}
.ai-gen-area textarea,.ai-gen-area input{width:100%;background:var(--card2);border:1px solid var(--border);border-radius:10px;padding:11px 13px;color:var(--text);font-size:14px;font-family:'DM Sans',sans-serif;outline:none;margin-bottom:8px;display:block;}
.ai-gen-area textarea:focus,.ai-gen-area input:focus{border-color:var(--gold);}
.topic-chips{display:flex;flex-wrap:wrap;gap:7px;margin-bottom:14px;}
.chip{background:var(--card2);border:1px solid var(--border);border-radius:20px;padding:6px 12px;font-size:12px;color:var(--text2);cursor:pointer;transition:all .15s;}
.chip:active{background:var(--border);}
</style>

<link rel="manifest" href="manifest.json">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="PP Pro">
<link rel="apple-touch-icon" href="icon.svg">
<meta name="theme-color" content="#f5c842">
</head>
<body>
<div id="app">

<!-- HOME -->
<div class="screen active" id="home">
  <div class="home-top">
    <div class="app-title">Pasa<span>Palabra</span> Pro</div>
    <div class="app-sub">Entrena como los mejores concursantes</div>
    <div class="stats-row">
      <div class="stat-box"><div class="stat-val" id="h-v">0</div><div class="stat-lbl">Vistas</div></div>
      <div class="stat-box"><div class="stat-val" id="h-a">0%</div><div class="stat-lbl">Acierto</div></div>
      <div class="stat-box"><div class="stat-val" id="h-p">0</div><div class="stat-lbl">Pendientes</div></div>
    </div>
    <div class="streak-badge">üî• Racha: <span id="h-r">0</span> d√≠as</div>
  </div>
  <div class="home-body">
    <div class="sec-title">Modo de estudio</div>
    <div class="mode-grid">
      <div class="mc" onclick="startMode('srs')"><div class="mc-icon">üß†</div><div class="mc-name">Repaso SRS</div><div class="mc-desc">Algoritmo Anki ‚Äî solo lo urgente</div><div class="mc-badge">SMART</div></div>
      <div class="mc" onclick="startMode('rapido')"><div class="mc-icon">‚ö°</div><div class="mc-name">R√°pido</div><div class="mc-desc">20 preguntas de tus mazos</div></div>
      <div class="mc" onclick="startVocab()"><div class="mc-icon">üìñ</div><div class="mc-name">Vocabulario RAE</div><div class="mc-desc">Definiciones exactas del DLE</div></div>
      <div class="mc" onclick="startRosco()"><div class="mc-icon">üü°</div><div class="mc-name">El Rosco</div><div class="mc-desc">Simula la prueba final</div></div>
    </div>
    <div class="sec-title">Mazos activos</div>
    <div id="deck-list" class="deck-list"></div>
    <div class="nav-row">
      <div class="nav-btn" onclick="goTo('stats')">üìä Estad√≠sticas</div>
      <div class="nav-btn" onclick="goTo('ai-decks')">ü§ñ IA</div><div class="nav-btn" onclick="goTo('imp')">‚öôÔ∏è M√°s</div>
    </div>
  </div>
</div>

<!-- TRAIN -->
<div class="screen" id="train">
  <div class="topbar">
    <div class="btn-back" onclick="goTo('home')">‚Üê</div>
    <div class="pw"><div class="pb" id="t-pb"></div></div>
    <div class="pt" id="t-ct">0/0</div>
  </div>
  <div class="tbody">
    <div class="dtag" id="t-dk">üìö Mazo</div>
    <div class="qcard">
      <div class="qlbl" id="t-lbl">PREGUNTA</div>
      <div class="qtxt" id="t-q">...</div>
    </div>
    <div class="awrap">
      <input class="ai" id="t-ai" placeholder="Tu respuesta..." onkeydown="if(event.key==='Enter')subAns()">
      <button class="btn-sub" id="t-sub" onclick="subAns()">‚Üí</button>
    </div>
    <div class="fb" id="t-fb"><div class="fb-ans" id="t-fb-a"></div></div>
    <div class="anki-row" id="t-anki">
      <button class="abtn ba" onclick="rateQ(0)">Otra vez<span class="al">&lt;1min</span></button>
      <button class="abtn bh" onclick="rateQ(1)">Dif√≠cil<span class="al">~6min</span></button>
      <button class="abtn bg" onclick="rateQ(2)">Bien<span class="al">~10min</span></button>
      <button class="abtn be" onclick="rateQ(3)">F√°cil<span class="al">4 d√≠as</span></button>
    </div>
    <div class="skip-h" onclick="skipQ()">‚è≠ Saltar</div>
  </div>
</div>

<!-- VOCAB -->
<div class="screen" id="vocab">
  <div class="topbar">
    <div class="btn-back" onclick="goTo('home')">‚Üê</div>
    <div class="pw"><div class="pb" id="v-pb"></div></div>
    <div class="pt" id="v-ct">0/0</div>
  </div>
  <div class="vcbody">
    <div class="vcard" id="vcard" onclick="flipCard()">
      <div class="vc-front">
        <div class="vc-lbl">DEFINICI√ìN ‚Äî ¬øQU√â PALABRA ES?</div>
        <div class="vdef" id="v-fd"></div>
        <div class="vtags" id="v-tags"></div>
      </div>
      <div class="vc-back">
        <div class="vc-lbl">RESPUESTA</div>
        <div class="vword" id="v-w"></div>
        <div class="vdef" id="v-bd"></div>
        <div class="vib vsin" id="v-sin" style="display:none"><div class="vl">Sin√≥nimos RAE</div><span id="v-sin-t"></span></div>
        <div class="vib" id="v-ex" style="display:none"><div class="vl">Ejemplo</div><span id="v-ex-t"></span></div>
        <div class="vib vtip" id="v-tip" style="display:none"><div class="vl">üí° Para memorizar</div><span id="v-tip-t"></span></div>
        <a class="rae-btn" id="v-rae" href="#" target="_blank">üìñ Ver definici√≥n completa en la RAE</a>
      </div>
    </div>
    <div class="vrate-row" id="v-rate" style="display:none">
      <button class="vrb vr-no" onclick="rateV('no')">‚ùå No la s√©</button>
      <button class="vrb vr-rev" onclick="rateV('rev')">üîÑ Repasar</button>
      <button class="vrb vr-si" onclick="rateV('si')">‚úÖ La s√©</button>
    </div>
  </div>
</div>

<!-- ROSCO -->
<div class="screen" id="rosco">
  <div class="topbar">
    <div class="btn-back" onclick="stopRosco()">‚Üê</div>
    <div class="pt" id="r-sc" style="font-size:12px;color:var(--text2)">0‚úÖ 0‚ùå</div>
    <div style="flex:1"></div>
    <div class="pt" id="r-ti" style="font-family:Syne,sans-serif;font-size:18px;font-weight:700;color:var(--gold)">2:30</div>
  </div>
  <div class="rosco-body">
    <svg id="rosco-svg" viewBox="0 0 260 260"></svg>
    <div class="r-def" id="r-def">Elige una letra</div>
    <div class="rinput-wrap">
      <input class="ri" id="r-in" placeholder="..." onkeydown="if(event.key==='Enter')subRosco()" autocomplete="off" autocorrect="off" spellcheck="false">
      <button class="rsub" onclick="subRosco()">‚Üí</button>
    </div>
    <button class="rpasa" onclick="pasaR()">‚è≠ PASA</button>
    <div class="rstats">
      <div class="rst"><div class="v" id="r-c" style="color:var(--green)">0</div><div class="l">‚úÖ</div></div>
      <div class="rst"><div class="v" id="r-w" style="color:var(--red)">0</div><div class="l">‚ùå</div></div>
      <div class="rst"><div class="v" id="r-p">26</div><div class="l">‚è≥</div></div>
    </div>
  </div>
</div>

<!-- STATS -->
<div class="screen" id="stats">
  <div class="topbar"><div class="btn-back" onclick="goTo('home')">‚Üê</div><span style="font-family:Syne,sans-serif;font-weight:700;flex:1">Estad√≠sticas</span></div>
  <div style="padding:16px;overflow-y:auto;">
    <div class="bstat"><div class="bstat-icon">üéØ</div><div><div class="bstat-val" id="st-t">0</div><div class="bstat-lbl">Preguntas respondidas</div></div></div>
    <div class="bstat"><div class="bstat-icon">‚úÖ</div><div><div class="bstat-val" id="st-p">0%</div><div class="bstat-lbl">Tasa de acierto</div></div></div>
    <div class="bstat"><div class="bstat-icon">üî•</div><div><div class="bstat-val" id="st-r">0</div><div class="bstat-lbl">D√≠as de racha</div></div></div>
    <div class="sec-title" style="margin-top:14px">Por mazo</div>
    <div id="st-dk"></div>
  </div>
</div>

<!-- IMPORT -->
<div class="screen" id="imp">
  <div class="topbar"><div class="btn-back" onclick="goTo('home')">‚Üê</div><span style="font-family:Syne,sans-serif;font-weight:700;flex:1">A√±adir vocabulario</span></div>
  <div style="padding:16px;overflow-y:auto;">
    <div class="sec-title">‚ûï Nueva palabra RAE</div>
    <input class="imp-field" id="iw" placeholder="Palabra (ej: Quimera)">
    <textarea class="imp-field" id="id2" rows="3" placeholder="Definici√≥n exacta de la RAE..." style="resize:vertical"></textarea>
    <input class="imp-field" id="isin" placeholder="Sin√≥nimos (opcional)">
    <input class="imp-field" id="iex" placeholder="Frase de ejemplo...">
    <input class="imp-field" id="itip" placeholder="Truco para memorizar...">
    <button class="btn-act pri" onclick="addWord()">üíæ Guardar</button>
    <hr>
    <button class="btn-act" onclick="exportD()">üì§ Exportar progreso</button>
    <div style="font-size:12px;color:var(--text2);margin:10px 0 6px">Importar progreso:</div>
    <textarea class="imp-field" id="ijson" rows="3" placeholder="Pega aqu√≠ el JSON..."></textarea>
    <button class="btn-act" onclick="importD()">üì• Importar</button>
    <hr>
    <button class="btn-act dan" onclick="if(confirm('¬øBorrar todo el progreso?'))resetP()">üóëÔ∏è Reiniciar progreso</button>
  </div>
</div>

<!-- SUMMARY -->
<div class="screen" id="summary">
  <div class="sum-e" id="sum-e">üéâ</div>
  <div class="sum-t" id="sum-t">¬°Completado!</div>
  <div class="sum-row">
    <div class="sum-s"><div class="sum-sv" id="sum-c">0</div><div class="sum-sl">Correctas</div></div>
    <div class="sum-s"><div class="sum-sv" id="sum-w" style="color:var(--red)">0</div><div class="sum-sl">Errores</div></div>
  </div>
  <button class="btn-start" style="max-width:260px" onclick="goTo('home')">Volver al inicio</button>
</div>

</div>
<!-- AI DECKS -->
<div class="screen" id="ai-decks">
  <div class="topbar"><div class="btn-back" onclick="goTo('home')">‚Üê</div><span style="font-family:Syne,sans-serif;font-weight:700;flex:1">ü§ñ Mazos Infinitos con IA</span></div>
  <div style="padding:16px;overflow-y:auto;flex:1;">
    <div class="ai-gen-area">
      <div class="sec-title" style="margin-bottom:10px">Nuevo mazo sobre...</div>
      <div class="topic-chips" id="topic-chips">
        <div class="chip" onclick="setTopic('Historia Medieval')">‚öîÔ∏è Historia Medieval</div>
        <div class="chip" onclick="setTopic('Anatom√≠a Humana')">ü´Ä Anatom√≠a</div>
        <div class="chip" onclick="setTopic('Cocina Espa√±ola')">üç≥ Cocina espa√±ola</div>
        <div class="chip" onclick="setTopic('Astronom√≠a')">üî≠ Astronom√≠a</div>
        <div class="chip" onclick="setTopic('M√∫sica Cl√°sica')">üéº M√∫sica cl√°sica</div>
        <div class="chip" onclick="setTopic('Futbolistas Hist√≥ricos')">‚öΩ Futbolistas</div>
        <div class="chip" onclick="setTopic('Filosof√≠a Griega')">üèõÔ∏è Filosof√≠a griega</div>
        <div class="chip" onclick="setTopic('Pa√≠ses del Mundo')">üåç Pa√≠ses</div>
        <div class="chip" onclick="setTopic('Cine Espa√±ol')">üé¨ Cine espa√±ol</div>
        <div class="chip" onclick="setTopic('Biolog√≠a y Naturaleza')">üåø Biolog√≠a</div>
      </div>
      <input id="ai-topic" placeholder="O escribe cualquier tema..." style="font-size:15px;">
      <button class="btn-start" id="ai-create-btn" onclick="createAIDeck()" style="margin-bottom:0">‚ú® Generar 50 preguntas</button>
    </div>
    <div class="sec-title">Tus mazos IA</div>
    <div id="ai-deck-list"></div>
  </div>
</div>



<script>

// ‚ïê‚ïê‚ïê DATA ‚ïê‚ïê‚ïê
const DECKS={"Cultura General":{icon:"üåç"},"Literatura":{icon:"üìö"},"Geograf√≠a":{icon:"üó∫Ô∏è"},"Historia":{icon:"‚öîÔ∏è"},"Historia del Arte":{icon:"üñºÔ∏è"},"Ciencia y Naturaleza":{icon:"üî¨"},"Cine, TV y Espect√°culos":{icon:"üì∫"},"Deportes":{icon:"üèÖ"},"Historia EEUU":{icon:"üá∫üá∏"},"Premios Nobel":{icon:"üèÜ"},"Mitolog√≠a":{icon:"‚ö°"}};
const VOCAB=[
{id:"v01",word:"Apostas√≠a",definition_ES:"1. f. Acci√≥n y efecto de apostatar.",sin√≥nimos:"abjuraci√≥n, retractaci√≥n, renuncia.",example_sentence:"Su apostas√≠a escandaliz√≥ a la comunidad.",memory_tip:"Apo- (alejarse). Alejarse de la fe.",topic_tags:["religi√≥n"]},
{id:"v02",word:"Catarsis",definition_ES:"1. f. Entre los antiguos griegos, purificaci√≥n ritual. 2. f. Efecto purificador que causa la tragedia en los espectadores. 3. f. Purificaci√≥n interior por una experiencia profunda. 4. f. Biol. Expulsi√≥n de sustancias nocivas.",sin√≥nimos:"purificaci√≥n, limpieza, purga.",example_sentence:"La obra produjo una catarsis colectiva.",memory_tip:"K√°tharsis (purga en griego).",topic_tags:["filosof√≠a","teatro"]},
{id:"v03",word:"Epifan√≠a",definition_ES:"1. f. Manifestaci√≥n, aparici√≥n o revelaci√≥n. 2. f. Festividad el 6 de enero, adoraci√≥n de los Reyes Magos.",sin√≥nimos:"Reyes (acep. 2).",example_sentence:"La epifan√≠a le lleg√≥ de golpe.",memory_tip:"Epi (sobre) + phainein (mostrarse). Algo que aparece.",topic_tags:["religi√≥n"]},
{id:"v04",word:"Jactancia",definition_ES:"1. f. Alabanza propia, arrogante y presuntuosa.",sin√≥nimos:"arrogancia, fanfarroner√≠a, vanagloria, presunci√≥n.",example_sentence:"Su jactancia alej√≥ a todos.",memory_tip:"Jactarse = presumir.",topic_tags:["lengua"]},
{id:"v05",word:"Quimera",definition_ES:"1. f. Monstruo mitol√≥gico con cabeza de le√≥n, vientre de cabra y cola de drag√≥n. 2. f. Lo que se imagina como posible sin serlo. 3. f. Biol. Organismo con c√©lulas gen√©ticamente distintas.",sin√≥nimos:"ilusi√≥n, fantas√≠a, sue√±o.",example_sentence:"Ganar sin estudiar era una quimera.",memory_tip:"Monstruo imposible de la mitolog√≠a.",topic_tags:["mitolog√≠a","lengua"]},
{id:"v06",word:"Gnoseolog√≠a",definition_ES:"1. f. Fil. Teor√≠a del conocimiento.",sin√≥nimos:"epistemolog√≠a.",example_sentence:"La gnoseolog√≠a estudia los l√≠mites del conocer.",memory_tip:"Gnosis (conocimiento) + logos.",topic_tags:["filosof√≠a"]},
{id:"v07",word:"Hedonismo",definition_ES:"1. m. Doctrina que proclama el placer como fin supremo. 2. m. Tendencia a la b√∫squeda del placer.",sin√≥nimos:"epicure√≠smo.",example_sentence:"Su hedonismo le imped√≠a sacrificarse.",memory_tip:"Hedon√© (placer en griego).",topic_tags:["filosof√≠a"]},
{id:"v08",word:"Iconoclasta",definition_ES:"1. adj. Que rechaza la autoridad de maestros y normas. 2. adj. Que destru√≠a las im√°genes sagradas.",sin√≥nimos:"heterodoxo, disidente, rebelde.",example_sentence:"Su actitud iconoclasta romp√≠a con todo.",memory_tip:"Ikon (imagen) + klastes (destructor).",topic_tags:["arte","historia"]},
{id:"v09",word:"Nihilismo",definition_ES:"1. m. Negaci√≥n de todo principio religioso, pol√≠tico y social. 2. m. Fil. Negaci√≥n de toda creencia.",sin√≥nimos:"",example_sentence:"El nihilismo niega todo sentido.",memory_tip:"Nihil (nada en lat√≠n).",topic_tags:["filosof√≠a"]},
{id:"v10",word:"Ontolog√≠a",definition_ES:"1. f. Parte de la metaf√≠sica que trata del ser en general.",sin√≥nimos:"",example_sentence:"La ontolog√≠a pregunta qu√© significa existir.",memory_tip:"Onto (ser) + logos.",topic_tags:["filosof√≠a"]},
{id:"v11",word:"Paroxismo",definition_ES:"1. m. Exaltaci√≥n extrema de los afectos y pasiones. 2. m. Med. Exacerbaci√≥n brusca de una enfermedad.",sin√≥nimos:"exaltaci√≥n, frenes√≠, arrebato.",example_sentence:"El paroxismo de alegr√≠a fue desbordante.",memory_tip:"Para + oxys (agudo). El punto m√°s agudo.",topic_tags:["lengua"]},
{id:"v12",word:"Resiliencia",definition_ES:"1. f. Capacidad de adaptaci√≥n frente a un agente perturbador. 2. f. F√≠s. Capacidad de un material el√°stico para absorber energ√≠a.",sin√≥nimos:"",example_sentence:"La resiliencia de los supervivientes fue admirable.",memory_tip:"Resilire (rebotar). Como un muelle.",topic_tags:["psicolog√≠a"]},
{id:"v13",word:"Sorites",definition_ES:"1. m. Fil. Razonamiento de una serie de silogismos truncados.",sin√≥nimos:"",example_sentence:"El sorites del mont√≥n: ¬øcu√°ntos granos hacen un mont√≥n?",memory_tip:"Soros (mont√≥n en griego).",topic_tags:["filosof√≠a"]},
{id:"v14",word:"Tautolog√≠a",definition_ES:"1. f. Repetici√≥n de un mismo pensamiento en distintas formas. 2. f. Fil. F√≥rmula l√≥gica verdadera para todos los valores de verdad.",sin√≥nimos:"pleonasmo, redundancia.",example_sentence:"'Subir arriba' es una tautolog√≠a.",memory_tip:"Tauto (lo mismo) + logos.",topic_tags:["lengua"]},
{id:"v15",word:"Marasmo",definition_ES:"1. m. Suspensi√≥n, paralizaci√≥n, inmovilidad moral o f√≠sica. 2. m. Med. Desnutrici√≥n grave del lactante.",sin√≥nimos:"par√°lisis, estancamiento, aton√≠a.",example_sentence:"El pa√≠s cay√≥ en un profundo marasmo.",memory_tip:"Marasmos (decaimiento en griego).",topic_tags:["lengua"]},
{id:"v16",word:"Lascivia",definition_ES:"1. f. Propensi√≥n a los deleites carnales.",sin√≥nimos:"lujuria, sensualidad, impudicia, lubricidad.",example_sentence:"La lascivia corrompi√≥ sus costumbres.",memory_tip:"Lascivia (libertinaje en lat√≠n).",topic_tags:["lengua"]},
{id:"v17",word:"Ambages",definition_ES:"1. m. pl. Rodeos de palabras. U. m. en la loc. adv. sin ambages.",sin√≥nimos:"rodeos, circunloquios, evasivas.",example_sentence:"Te lo digo sin ambages: no funciona.",memory_tip:"Sin ambages = sin rodeos.",topic_tags:["lengua"]},
{id:"v18",word:"Diatriba",definition_ES:"1. f. Discurso o escrito violento e injurioso contra alguien o algo.",sin√≥nimos:"invectiva, fil√≠pica, ataque.",example_sentence:"Su diatriba dur√≥ m√°s de una hora.",memory_tip:"Ataque verbal muy agresivo.",topic_tags:["lengua"]},
{id:"v19",word:"Fetiche",definition_ES:"1. m. √çdolo al que se atribuyen poderes sobrenaturales. 2. m. Objeto para alejar el mal o traer buena suerte.",sin√≥nimos:"amuleto, talism√°n.",example_sentence:"Llevaba su fetiche como protecci√≥n.",memory_tip:"Feiti√ßo (hechizo en portugu√©s).",topic_tags:["lengua"]},
{id:"v20",word:"Giste",definition_ES:"1. m. Espuma de la cerveza.",sin√≥nimos:"",example_sentence:"El giste cubr√≠a el borde del vaso.",memory_tip:"La espuma de la cerveza. Cl√°sica de Pasapalabra.",topic_tags:["lengua"]},
{id:"v21",word:"Cris√°lida",definition_ES:"1. f. Zool. Pupa de los lepid√≥pteros envuelta en el capullo.",sin√≥nimos:"pupa, capullo.",example_sentence:"La mariposa emerge de la cris√°lida.",memory_tip:"Chrysall√≠s (dorado en griego). Cris√°lida ‚Üí mariposa.",topic_tags:["biolog√≠a"]},
{id:"v22",word:"Ac√©falo",definition_ES:"1. adj. Sin cabeza. 2. adj. Dicho de una colectividad: Sin jefe.",sin√≥nimos:"",example_sentence:"El partido qued√≥ ac√©falo.",memory_tip:"A- (sin) + kephal√© (cabeza).",topic_tags:["lengua"]},
{id:"v23",word:"Batracio",definition_ES:"1. adj. Zool. Anfibio. Apl. a animales, u. t. c. s. m.",sin√≥nimos:"anfibio.",example_sentence:"La rana es el batracio m√°s conocido.",memory_tip:"Batrachos (rana en griego).",topic_tags:["biolog√≠a"]},
{id:"v24",word:"Cen√°culo",definition_ES:"1. m. Sala de la √öltima Cena. 2. m. Grupo de personas que se re√∫nen con fines literarios o art√≠sticos.",sin√≥nimos:"",example_sentence:"El cen√°culo literario se reun√≠a los martes.",memory_tip:"Cenaaculum (comedor en lat√≠n).",topic_tags:["religi√≥n","lengua"]},
{id:"v25",word:"D√©dalo",definition_ES:"1. m. Laberinto, lugar del que es dif√≠cil salir. 2. m. Confusi√≥n, enredo.",sin√≥nimos:"laberinto, enredo, confusi√≥n.",example_sentence:"Se perdi√≥ en el d√©dalo de callejuelas.",memory_tip:"D√©dalo construy√≥ el laberinto de Creta.",topic_tags:["mitolog√≠a","lengua"]},
{id:"v26",word:"Estoicismo",definition_ES:"1. m. Doctrina de los estoicos. 2. m. Fortaleza sobre las propias emociones.",sin√≥nimos:"firmeza, entereza, serenidad, imperturbabilidad.",example_sentence:"Afront√≥ la tragedia con estoicismo.",memory_tip:"Marco Aurelio, Zen√≥n: dominar las pasiones.",topic_tags:["filosof√≠a"]},
{id:"v27",word:"Hip√©rbole",definition_ES:"1. f. Ret. Figura que aumenta o disminuye excesivamente aquello de lo que se habla.",sin√≥nimos:"exageraci√≥n.",example_sentence:"'Te lo he dicho mil veces' es una hip√©rbole.",memory_tip:"Hyper (exceso) + bol√© (lanzamiento).",topic_tags:["lengua"]},
{id:"v28",word:"Inc√≥lume",definition_ES:"1. adj. Sano y salvo, sin lesi√≥n ni menoscabo.",sin√≥nimos:"intacto, ileso, indemne.",example_sentence:"Sali√≥ inc√≥lume del accidente.",memory_tip:"In- + culpa/da√±o. Sin da√±o.",topic_tags:["lengua"]},
{id:"v29",word:"Lac√≥nico",definition_ES:"1. adj. Breve, conciso, compendioso.",sin√≥nimos:"breve, conciso, escueto, sucinto.",example_sentence:"Su respuesta fue lac√≥nica: 'No'.",memory_tip:"De Laconia (Esparta). Los espartanos hablaban poco.",topic_tags:["lengua"]},
{id:"v30",word:"Mis√°ntropo",definition_ES:"1. adj. Que siente aversi√≥n al trato humano. U. t. c. s.",sin√≥nimos:"hura√±o, insociable, arisco.",example_sentence:"El viejo mis√°ntropo rechazaba toda visita.",memory_tip:"Misos (odio) + anthropos (hombre).",topic_tags:["lengua"]},
{id:"v31",word:"Necr√≥polis",definition_ES:"1. f. Cementerio de gran extensi√≥n con monumentos funerarios. 2. f. Arqueol. Conjunto de sepulturas antiguas.",sin√≥nimos:"cementerio, camposanto.",example_sentence:"La necr√≥polis romana fue descubierta en las obras.",memory_tip:"Nekros (muerto) + polis (ciudad).",topic_tags:["lengua"]},
{id:"v32",word:"Ominoso",definition_ES:"1. adj. Azaroso, de mal ag√ºero, abominable, vitando.",sin√≥nimos:"nefasto, funesto, aciago, abominable.",example_sentence:"Un silencio ominoso precedi√≥ a la tormenta.",memory_tip:"Ominosus (de mal ag√ºero en lat√≠n).",topic_tags:["lengua"]},
{id:"v33",word:"Palimpsesto",definition_ES:"1. m. Manuscrito antiguo que conserva huellas de una escritura anterior borrada.",sin√≥nimos:"",example_sentence:"El pergamino era un palimpsesto con tres textos.",memory_tip:"Palin (de nuevo) + psao (raspar). Raspado y reutilizado.",topic_tags:["historia"]},
{id:"v34",word:"Rapsoda",definition_ES:"1. m. y f. En la Antigua Grecia, persona que recitaba poemas √©picos. 2. m. y f. Poeta popular ambulante.",sin√≥nimos:"bardo, aedo, juglar.",example_sentence:"Homero fue el rapsoda m√°s c√©lebre.",memory_tip:"Rhaptein (coser) + ode (canto). El que cose cantos.",topic_tags:["lengua","historia"]},
{id:"v35",word:"Sibarita",definition_ES:"1. adj. Que vive con lujo y se da a los placeres con refinamiento. U. t. c. s.",sin√≥nimos:"hedonista, epic√∫reo, voluptuoso.",example_sentence:"Era un sibarita que solo beb√≠a grandes reservas.",memory_tip:"De S√≠baris, ciudad griega del lujo.",topic_tags:["lengua"]},
{id:"v36",word:"Taumaturgo",definition_ES:"1. m. y f. Persona que hace o dice que hace milagros.",sin√≥nimos:"mago, teurgo.",example_sentence:"El curandero se hac√≠a pasar por taumaturgo.",memory_tip:"Thauma (maravilla) + ergon (obra).",topic_tags:["religi√≥n","lengua"]},
{id:"v37",word:"Ub√©rrimo",definition_ES:"1. adj. Muy abundante y f√©rtil.",sin√≥nimos:"abundante, f√©rtil, fecundo, pr√≥digo.",example_sentence:"La vega ub√©rrima produc√≠a tres cosechas.",memory_tip:"Superlativo de uber (f√©rtil). Lo m√°s f√©rtil.",topic_tags:["lengua"]},
{id:"v38",word:"Vejatorio",definition_ES:"1. adj. Que causa humillaci√≥n o verg√ºenza.",sin√≥nimos:"humillante, degradante, denigrante, ofensivo.",example_sentence:"El trato vejatorio fue denunciado.",memory_tip:"Vejar = humillar. Vejatorio = que humilla.",topic_tags:["lengua"]},
{id:"v39",word:"Xilograf√≠a",definition_ES:"1. f. Arte de grabar en madera. 2. f. Impresi√≥n con planchas de madera grabada.",sin√≥nimos:"grabado en madera.",example_sentence:"Los primeros libros se imprimieron con xilograf√≠a.",memory_tip:"Xylon (madera) + graphia (escritura).",topic_tags:["arte"]},
{id:"v40",word:"Abyecto",definition_ES:"1. adj. Despreciable, vil en extremo.",sin√≥nimos:"vil, ruin, indigno, despreciable, rastrero.",example_sentence:"Su comportamiento abyecto lo conden√≥.",memory_tip:"Ab- + jectus (lanzado). Lo m√°s bajo.",topic_tags:["lengua"]},
{id:"v41",word:"Bienhechor",definition_ES:"1. adj. Que hace bien a otro. U. t. c. s.",sin√≥nimos:"benefactor, protector, fil√°ntropo.",example_sentence:"El bienhechor an√≥nimo pag√≥ la restauraci√≥n.",memory_tip:"Bien + hacer.",topic_tags:["lengua"]},
{id:"v42",word:"Caterva",definition_ES:"1. f. Multitud de personas o cosas de poca importancia o de la misma especie.",sin√≥nimos:"tropel, muchedumbre, turba, hatajo.",example_sentence:"Una caterva de periodistas esperaba.",memory_tip:"Caterva (tropa en lat√≠n). Grupo numeroso.",topic_tags:["lengua"]},
{id:"v43",word:"Demagogo",definition_ES:"1. m. y f. Pol√≠tico que capta la voluntad del pueblo con halagos. 2. m. y f. Hist. Jefe popular en la Antig√ºedad.",sin√≥nimos:"populista, agitador.",example_sentence:"El demagogo promet√≠a sin explicar.",memory_tip:"Demos (pueblo) + agog√≥s (conductor).",topic_tags:["pol√≠tica"]},
{id:"v44",word:"Egregio",definition_ES:"1. adj. Insigne, ilustre.",sin√≥nimos:"ilustre, insigne, preclaro, eminente, notable.",example_sentence:"El egregio maestro recibi√≥ la medalla.",memory_tip:"Egregius (que sobresale del reba√±o).",topic_tags:["lengua"]},
{id:"v45",word:"Gregario",definition_ES:"1. adj. Que vive en reba√±o. 2. adj. Que sigue las ideas ajenas servilmente. 3. adj. Que forma parte del grupo sin sobresalir.",sin√≥nimos:"subordinado, seguidor.",example_sentence:"Los lobos son animales gregarios.",memory_tip:"Gregarius (de reba√±o). El que va con el grupo.",topic_tags:["lengua","biolog√≠a"]},
{id:"v46",word:"Hagi√≥grafo",definition_ES:"1. m. y f. Escritor de vidas de santos.",sin√≥nimos:"",example_sentence:"El hagi√≥grafo dedic√≥ su vida a documentar milagros.",memory_tip:"Hagios (santo) + graphos (escritor).",topic_tags:["religi√≥n"]},
{id:"v47",word:"Misiva",definition_ES:"1. f. Carta o mensaje que se env√≠a a alguien.",sin√≥nimos:"carta, ep√≠stola, mensaje.",example_sentence:"Le envi√≥ una misiva que nunca lleg√≥.",memory_tip:"Missiva (enviada en lat√≠n).",topic_tags:["lengua"]},
{id:"v48",word:"N√≠veo",definition_ES:"1. adj. po√©t. Que es blanco como la nieve.",sin√≥nimos:"blanco, nivoso.",example_sentence:"Su n√≠vea piel contrastaba con el negro.",memory_tip:"Niveus (de nieve en lat√≠n).",topic_tags:["lengua"]},
{id:"v49",word:"Zopenco",definition_ES:"1. adj. coloq. Bruto y tonto. U. t. c. s.",sin√≥nimos:"zoquete, torpe, necio, bruto.",example_sentence:"No seas zopenco y lee las instrucciones.",memory_tip:"Coloquial para alguien torpe y bruto.",topic_tags:["lengua"]},
{id:"v50",word:"K√©nosis",definition_ES:"1. f. Rel. Acto por el que el Hijo de Dios se despoj√≥ de su condici√≥n divina para asumir la condici√≥n humana.",sin√≥nimos:"",example_sentence:"La k√©nosis es central en la cristolog√≠a.",memory_tip:"Kenosis (vaciamiento en griego).",topic_tags:["teolog√≠a"]},
];
const QQ=[
{id:"cg01",dk:"Cultura General",q:"Con la J: alabanza propia, arrogante y presuntuosa",a:"jactancia",aa:[]},
{id:"cg02",dk:"Cultura General",q:"Con la P: manuscrito antiguo con huellas de escritura anterior borrada",a:"palimpsesto",aa:[]},
{id:"cg03",dk:"Cultura General",q:"Con la G: que vive en reba√±o o sigue las ideas ajenas",a:"gregario",aa:[]},
{id:"cg04",dk:"Cultura General",q:"Con la U: muy abundante y f√©rtil",a:"ub√©rrimo",aa:["uberrimo"]},
{id:"cg05",dk:"Cultura General",q:"Con la O: parte de la metaf√≠sica que trata del ser en general",a:"ontolog√≠a",aa:["ontologia"]},
{id:"cg06",dk:"Cultura General",q:"Con la E: insigne, ilustre",a:"egregio",aa:[]},
{id:"cg07",dk:"Cultura General",q:"Con la I: que destru√≠a im√°genes sagradas o rechaza la autoridad",a:"iconoclasta",aa:[]},
{id:"cg08",dk:"Cultura General",q:"Con la D: discurso violento e injurioso contra alguien",a:"diatriba",aa:[]},
{id:"cg09",dk:"Cultura General",q:"Con la A: acci√≥n de abandonar p√∫blicamente la fe religiosa",a:"apostas√≠a",aa:["apostasia"]},
{id:"cg10",dk:"Cultura General",q:"Con la C: multitud de personas de poca importancia",a:"caterva",aa:[]},
{id:"cg11",dk:"Cultura General",q:"Con la L: breve y conciso en el modo de hablar",a:"lac√≥nico",aa:["laconico"]},
{id:"cg12",dk:"Cultura General",q:"Con la G: espuma de la cerveza",a:"giste",aa:[]},
{id:"cg13",dk:"Cultura General",q:"¬øCu√°ntos huesos tiene el cuerpo humano adulto?",a:"206",aa:["doscientos seis"]},
{id:"cg14",dk:"Cultura General",q:"¬øCu√°ntos planetas tiene el sistema solar?",a:"8",aa:["ocho"]},
{id:"cg15",dk:"Cultura General",q:"¬øCu√°l es el metal m√°s abundante en la corteza terrestre?",a:"aluminio",aa:[]},
{id:"cg16",dk:"Cultura General",q:"Con la T: repetici√≥n de un mismo pensamiento en distintas formas",a:"tautolog√≠a",aa:["tautologia"]},
{id:"cg17",dk:"Cultura General",q:"Con la M: suspensi√≥n o paralizaci√≥n total en lo moral o f√≠sico",a:"marasmo",aa:[]},
{id:"cg18",dk:"Cultura General",q:"Con la R: capacidad de adaptaci√≥n frente a un agente perturbador",a:"resiliencia",aa:[]},
{id:"cg19",dk:"Cultura General",q:"Con la C: pupa de los lepid√≥pteros envuelta en capullo",a:"cris√°lida",aa:["crisalida"]},
{id:"cg20",dk:"Cultura General",q:"Con la N: sin cabeza o sin jefe (adjetivo)",a:"ac√©falo",aa:["acefalo"]},
{id:"lit01",dk:"Literatura",q:"¬øQui√©n escribi√≥ el Quijote?",a:"Cervantes",aa:["miguel de cervantes"]},
{id:"lit02",dk:"Literatura",q:"¬øC√≥mo se llama el escudero de Don Quijote?",a:"Sancho Panza",aa:["sancho"]},
{id:"lit03",dk:"Literatura",q:"¬øQui√©n escribi√≥ Romeo y Julieta?",a:"Shakespeare",aa:["william shakespeare"]},
{id:"lit04",dk:"Literatura",q:"¬øQui√©n escribi√≥ 'La Regenta'?",a:"Clar√≠n",aa:["leopoldo alas"]},
{id:"lit05",dk:"Literatura",q:"¬øA qu√© generaci√≥n pertenece Lorca?",a:"Generaci√≥n del 27",aa:["del 27"]},
{id:"lit06",dk:"Literatura",q:"¬øQui√©n escribi√≥ 'En busca del tiempo perdido'?",a:"Proust",aa:["marcel proust"]},
{id:"lit07",dk:"Literatura",q:"¬øQui√©n escribi√≥ 'Fortunata y Jacinta'?",a:"P√©rez Gald√≥s",aa:["gald√≥s"]},
{id:"lit08",dk:"Literatura",q:"¬øQui√©n escribi√≥ '1984'?",a:"Orwell",aa:["george orwell"]},
{id:"lit09",dk:"Literatura",q:"¬øDe qu√© autor es 'Cien a√±os de soledad'?",a:"Garc√≠a M√°rquez",aa:["gabriel garc√≠a m√°rquez"]},
{id:"lit10",dk:"Literatura",q:"Con la R: en Grecia antigua, persona que recitaba poemas √©picos",a:"rapsoda",aa:[]},
{id:"lit11",dk:"Literatura",q:"¬øQui√©n escribi√≥ 'La Odisea'?",a:"Homero",aa:[]},
{id:"lit12",dk:"Literatura",q:"¬øQui√©n escribi√≥ 'Luces de bohemia'?",a:"Valle-Incl√°n",aa:["ram√≥n del valle-incl√°n"]},
{id:"lit13",dk:"Literatura",q:"¬øQui√©n escribi√≥ 'El proceso'?",a:"Kafka",aa:["franz kafka"]},
{id:"lit14",dk:"Literatura",q:"¬øQui√©n escribi√≥ 'La casa de Bernarda Alba'?",a:"Lorca",aa:["garc√≠a lorca"]},
{id:"lit15",dk:"Literatura",q:"¬øDe qu√© autor es 'Crimen y castigo'?",a:"Dostoievski",aa:[]},
{id:"lit16",dk:"Literatura",q:"¬øDe qu√© autor es 'Rayuela'?",a:"Cort√°zar",aa:["julio cort√°zar"]},
{id:"lit17",dk:"Literatura",q:"¬øQui√©n escribi√≥ 'Las flores del mal'?",a:"Baudelaire",aa:["charles baudelaire"]},
{id:"lit18",dk:"Literatura",q:"¬øQui√©n escribi√≥ 'Platero y yo'?",a:"Juan Ram√≥n Jim√©nez",aa:["juan ram√≥n"]},
{id:"lit19",dk:"Literatura",q:"¬øQui√©n escribi√≥ 'El √°rbol de la ciencia'?",a:"P√≠o Baroja",aa:["baroja"]},
{id:"lit20",dk:"Literatura",q:"Con la S: en filosof√≠a, serie de silogismos truncados",a:"sorites",aa:[]},
{id:"geo01",dk:"Geograf√≠a",q:"¬øCu√°l es la capital de Australia?",a:"Canberra",aa:[]},
{id:"geo02",dk:"Geograf√≠a",q:"¬øCu√°l es el r√≠o m√°s largo del mundo?",a:"Nilo",aa:["r√≠o nilo"]},
{id:"geo03",dk:"Geograf√≠a",q:"¬øCu√°l es la capital de Canad√°?",a:"Ottawa",aa:[]},
{id:"geo04",dk:"Geograf√≠a",q:"¬øCu√°l es la monta√±a m√°s alta del mundo?",a:"Everest",aa:["monte everest"]},
{id:"geo05",dk:"Geograf√≠a",q:"¬øCu√°l es el pa√≠s m√°s grande del mundo?",a:"Rusia",aa:[]},
{id:"geo06",dk:"Geograf√≠a",q:"¬øCu√°l es la capital de Nueva Zelanda?",a:"Wellington",aa:[]},
{id:"geo07",dk:"Geograf√≠a",q:"¬øCu√°l es el r√≠o m√°s largo de Espa√±a?",a:"Tajo",aa:["r√≠o tajo"]},
{id:"geo08",dk:"Geograf√≠a",q:"¬øCu√°l es el mar m√°s salado del mundo?",a:"Mar Muerto",aa:[]},
{id:"geo09",dk:"Geograf√≠a",q:"¬øCu√°ntos pa√≠ses forman Am√©rica del Sur?",a:"12",aa:["doce"]},
{id:"geo10",dk:"Geograf√≠a",q:"¬øCu√°l es la isla m√°s grande del mundo?",a:"Groenlandia",aa:[]},
{id:"geo11",dk:"Geograf√≠a",q:"¬øCu√°l es la comunidad aut√≥noma m√°s grande de Espa√±a?",a:"Castilla y Le√≥n",aa:[]},
{id:"geo12",dk:"Geograf√≠a",q:"¬øCu√°l es el pico m√°s alto de la Pen√≠nsula Ib√©rica?",a:"Mulhac√©n",aa:["mulhacen"]},
{id:"geo13",dk:"Geograf√≠a",q:"¬øCu√°l es el pa√≠s m√°s peque√±o del mundo?",a:"Vaticano",aa:["ciudad del vaticano"]},
{id:"geo14",dk:"Geograf√≠a",q:"¬øCu√°l es el lago m√°s profundo del mundo?",a:"Baikal",aa:["lago baikal"]},
{id:"geo15",dk:"Geograf√≠a",q:"¬øEn qu√© provincia nace el r√≠o Ebro?",a:"Cantabria",aa:[]},
{id:"geo16",dk:"Geograf√≠a",q:"¬øCu√°ntos pa√≠ses tiene √Åfrica?",a:"54",aa:["cincuenta y cuatro"]},
{id:"geo17",dk:"Geograf√≠a",q:"¬øCu√°l es la capital de Kazajist√°n?",a:"Astana",aa:["nur-sult√°n"]},
{id:"geo18",dk:"Geograf√≠a",q:"¬øCu√°l es la capital de Bielorrusia?",a:"Minsk",aa:[]},
{id:"geo19",dk:"Geograf√≠a",q:"¬øCu√°l es la capital de Fiyi?",a:"Suva",aa:[]},
{id:"geo20",dk:"Geograf√≠a",q:"¬øCu√°l es el desierto c√°lido m√°s grande del mundo?",a:"Sahara",aa:[]},
{id:"his01",dk:"Historia",q:"¬øEn qu√© a√±o estall√≥ la Revoluci√≥n Francesa?",a:"1789",aa:[]},
{id:"his02",dk:"Historia",q:"¬øEn qu√© a√±o termin√≥ la Guerra Civil Espa√±ola?",a:"1939",aa:[]},
{id:"his03",dk:"Historia",q:"¬øEn qu√© a√±o comenz√≥ la Primera Guerra Mundial?",a:"1914",aa:[]},
{id:"his04",dk:"Historia",q:"¬øEn qu√© a√±o cay√≥ el Imperio Romano de Occidente?",a:"476",aa:[]},
{id:"his05",dk:"Historia",q:"¬øEn qu√© a√±o lleg√≥ Col√≥n a Am√©rica?",a:"1492",aa:[]},
{id:"his06",dk:"Historia",q:"¬øQui√©n fue el primer emperador de Roma?",a:"Augusto",aa:["c√©sar augusto","octavio"]},
{id:"his07",dk:"Historia",q:"¬øEn qu√© a√±o se firm√≥ la Carta Magna?",a:"1215",aa:[]},
{id:"his08",dk:"Historia",q:"¬øEn qu√© a√±o cay√≥ el Muro de Berl√≠n?",a:"1989",aa:[]},
{id:"his09",dk:"Historia",q:"¬øEn qu√© a√±o se promulg√≥ la Constituci√≥n espa√±ola vigente?",a:"1978",aa:[]},
{id:"his10",dk:"Historia",q:"¬øQui√©n dirigi√≥ la URSS durante la Segunda Guerra Mundial?",a:"Stalin",aa:[]},
{id:"his11",dk:"Historia",q:"¬øEn qu√© a√±o se public√≥ el Manifiesto Comunista?",a:"1848",aa:[]},
{id:"his12",dk:"Historia",q:"¬øEn qu√© a√±o se fund√≥ la ONU?",a:"1945",aa:[]},
{id:"his13",dk:"Historia",q:"¬øCu√°ntos a√±os dur√≥ la dictadura de Franco?",a:"36",aa:["treinta y seis"]},
{id:"his14",dk:"Historia",q:"¬øEn qu√© a√±o se produjo la Revoluci√≥n Rusa?",a:"1917",aa:[]},
{id:"his15",dk:"Historia",q:"¬øQui√©n fue asesinado en la Bastilla en la Revoluci√≥n Francesa?",a:"ninguno",aa:[]},
{id:"his16",dk:"Historia",q:"¬øCu√°ntos a√±os dur√≥ la guerra de los Cien A√±os?",a:"116",aa:["ciento diecis√©is"]},
{id:"his17",dk:"Historia",q:"¬øC√≥mo se llam√≥ el per√≠odo de transici√≥n pol√≠tica espa√±ola tras Franco?",a:"Transici√≥n",aa:["la transici√≥n"]},
{id:"his18",dk:"Historia",q:"¬øQui√©n fue el √∫ltimo rey visigodo de Espa√±a?",a:"Rodrigo",aa:["don rodrigo"]},
{id:"his19",dk:"Historia",q:"¬øEn qu√© a√±o se firm√≥ la Declaraci√≥n de Independencia de EE.UU.?",a:"1776",aa:[]},
{id:"his20",dk:"Historia",q:"¬øQui√©n fue el primer presidente de los Estados Unidos?",a:"George Washington",aa:["washington"]},
{id:"art01",dk:"Historia del Arte",q:"¬øQui√©n pint√≥ 'La Gioconda'?",a:"Leonardo da Vinci",aa:["leonardo"]},
{id:"art02",dk:"Historia del Arte",q:"¬øQui√©n pint√≥ 'Las Meninas'?",a:"Vel√°zquez",aa:["diego vel√°zquez"]},
{id:"art03",dk:"Historia del Arte",q:"¬øQui√©n esculpi√≥ 'El David'?",a:"Miguel √Ångel",aa:["michelangelo"]},
{id:"art04",dk:"Historia del Arte",q:"¬øQui√©n dise√±√≥ la Sagrada Familia de Barcelona?",a:"Gaud√≠",aa:["antonio gaud√≠"]},
{id:"art05",dk:"Historia del Arte",q:"¬øQui√©n pint√≥ 'El grito'?",a:"Munch",aa:["edvard munch"]},
{id:"art06",dk:"Historia del Arte",q:"¬øQui√©n pint√≥ 'La persistencia de la memoria' con los relojes blandos?",a:"Dal√≠",aa:["salvador dal√≠"]},
{id:"art07",dk:"Historia del Arte",q:"¬øEn qu√© ciudad est√° el Parten√≥n?",a:"Atenas",aa:[]},
{id:"art08",dk:"Historia del Arte",q:"¬øQui√©n pint√≥ 'Los girasoles'?",a:"Van Gogh",aa:["vincent van gogh"]},
{id:"art09",dk:"Historia del Arte",q:"¬øDe qu√© material est√° hecha la Venus de Milo?",a:"M√°rmol",aa:["marmol"]},
{id:"art10",dk:"Historia del Arte",q:"Con la X: arte de grabar en madera",a:"xilograf√≠a",aa:["xilografia"]},
{id:"art11",dk:"Historia del Arte",q:"¬øQui√©n pint√≥ el techo de la Capilla Sixtina?",a:"Miguel √Ångel",aa:["michelangelo"]},
{id:"art12",dk:"Historia del Arte",q:"¬øQui√©n pint√≥ 'Guernica'?",a:"Picasso",aa:["pablo picasso"]},
{id:"art13",dk:"Historia del Arte",q:"¬øEn qu√© pa√≠s est√° el Taj Mahal?",a:"India",aa:[]},
{id:"art14",dk:"Historia del Arte",q:"¬øQui√©n pint√≥ 'La ronda de noche'?",a:"Rembrandt",aa:[]},
{id:"art15",dk:"Historia del Arte",q:"¬øQu√© estilo arquitect√≥nico tiene arcos apuntados?",a:"G√≥tico",aa:["estilo g√≥tico"]},
{id:"art16",dk:"Historia del Arte",q:"¬øEn qu√© museo est√°n 'Las Meninas'?",a:"Museo del Prado",aa:["el prado","prado"]},
{id:"art17",dk:"Historia del Arte",q:"¬øA qu√© movimiento pertenecen Braque y Picasso en sus inicios?",a:"Cubismo",aa:[]},
{id:"art18",dk:"Historia del Arte",q:"¬øC√≥mo se llama la escultura de Rodin del hombre pensando?",a:"El pensador",aa:["le penseur"]},
{id:"art19",dk:"Historia del Arte",q:"¬øEn qu√© ciudad surgi√≥ el movimiento impresionista?",a:"Par√≠s",aa:["paris"]},
{id:"art20",dk:"Historia del Arte",q:"¬øQui√©n es considerado padre del arte abstracto?",a:"Kandinsky",aa:[]},
{id:"sci01",dk:"Ciencia y Naturaleza",q:"¬øQu√© cient√≠fico formul√≥ la teor√≠a de la relatividad?",a:"Einstein",aa:["albert einstein"]},
{id:"sci02",dk:"Ciencia y Naturaleza",q:"¬øCu√°ntos elementos tiene la tabla peri√≥dica?",a:"118",aa:["ciento dieciocho"]},
{id:"sci03",dk:"Ciencia y Naturaleza",q:"¬øQu√© mol√©cula transporta el ox√≠geno en la sangre?",a:"Hemoglobina",aa:[]},
{id:"sci04",dk:"Ciencia y Naturaleza",q:"¬øCu√°nto tarda la luz en llegar del Sol a la Tierra?",a:"8 minutos",aa:["ocho minutos"]},
{id:"sci05",dk:"Ciencia y Naturaleza",q:"Con la B: anfibio seg√∫n la RAE",a:"batracio",aa:[]},
{id:"sci06",dk:"Ciencia y Naturaleza",q:"¬øCu√°l es el elemento m√°s abundante en el universo?",a:"Hidr√≥geno",aa:["hidrogeno"]},
{id:"sci07",dk:"Ciencia y Naturaleza",q:"¬øC√≥mo se llama la galaxia donde est√° el Sistema Solar?",a:"V√≠a L√°ctea",aa:["la v√≠a l√°ctea"]},
{id:"sci08",dk:"Ciencia y Naturaleza",q:"¬øCu√°l es el s√≠mbolo qu√≠mico del oro?",a:"Au",aa:[]},
{id:"sci09",dk:"Ciencia y Naturaleza",q:"¬øCu√°l es el gas m√°s abundante en la atm√≥sfera?",a:"Nitr√≥geno",aa:["nitrogeno"]},
{id:"sci10",dk:"Ciencia y Naturaleza",q:"Con la Q: organismo con c√©lulas gen√©ticamente distintas (biolog√≠a)",a:"quimera",aa:[]},
{id:"sci11",dk:"Ciencia y Naturaleza",q:"¬øQu√© √°cido contiene la informaci√≥n gen√©tica?",a:"ADN",aa:["√°cido desoxirribonucleico","dna"]},
{id:"sci12",dk:"Ciencia y Naturaleza",q:"¬øA qu√© velocidad viaja la luz?",a:"300.000 km/s",aa:["trescientos mil kil√≥metros por segundo"]},
{id:"sci13",dk:"Ciencia y Naturaleza",q:"¬øC√≥mo se llama el punto de m√°xima proximidad al Sol?",a:"Perihelio",aa:[]},
{id:"sci14",dk:"Ciencia y Naturaleza",q:"Con la C: expulsi√≥n de sustancias nocivas al organismo (medicina)",a:"catarsis",aa:[]},
{id:"sci15",dk:"Ciencia y Naturaleza",q:"¬øC√≥mo se llama el proceso de divisi√≥n celular?",a:"Mitosis",aa:["meiosis"]},
{id:"sci16",dk:"Ciencia y Naturaleza",q:"¬øCu√°l es el punto de ebullici√≥n del agua al nivel del mar?",a:"100 grados",aa:["100"]},
{id:"sci17",dk:"Ciencia y Naturaleza",q:"¬øQu√© unidad mide la frecuencia de las ondas?",a:"Hercio",aa:["hertz","hz"]},
{id:"sci18",dk:"Ciencia y Naturaleza",q:"Con la R: capacidad de adaptaci√≥n frente a adversidad",a:"resiliencia",aa:[]},
{id:"sci19",dk:"Ciencia y Naturaleza",q:"¬øQui√©n formul√≥ la ley de la gravedad universal?",a:"Newton",aa:["isaac newton"]},
{id:"sci20",dk:"Ciencia y Naturaleza",q:"¬øQu√© es un p√∫lsar?",a:"estrella de neutrones",aa:["pulsar"]},
{id:"cin01",dk:"Cine, TV y Espect√°culos",q:"¬øQui√©n dirigi√≥ 'Schindler's List'?",a:"Spielberg",aa:["steven spielberg"]},
{id:"cin02",dk:"Cine, TV y Espect√°culos",q:"¬øQui√©n interpret√≥ a James Bond por primera vez?",a:"Sean Connery",aa:["connery"]},
{id:"cin03",dk:"Cine, TV y Espect√°culos",q:"¬øEn qu√© a√±o se estren√≥ 'El Padrino'?",a:"1972",aa:[]},
{id:"cin04",dk:"Cine, TV y Espect√°culos",q:"¬øQui√©n dirigi√≥ 'Pulp Fiction'?",a:"Tarantino",aa:["quentin tarantino"]},
{id:"cin05",dk:"Cine, TV y Espect√°culos",q:"¬øEn qu√© ciudad naci√≥ Freddie Mercury?",a:"Zanz√≠bar",aa:["zanzibar"]},
{id:"cin06",dk:"Cine, TV y Espect√°culos",q:"¬øCu√°ntas sinfon√≠as compuso Beethoven?",a:"9",aa:["nueve"]},
{id:"cin07",dk:"Cine, TV y Espect√°culos",q:"¬øC√≥mo se llama la √≥pera de Mozart sobre Don Juan?",a:"Don Giovanni",aa:[]},
{id:"cin08",dk:"Cine, TV y Espect√°culos",q:"¬øQui√©n dirigi√≥ '2001: Una odisea del espacio'?",a:"Kubrick",aa:["stanley kubrick"]},
{id:"cin09",dk:"Cine, TV y Espect√°culos",q:"¬øQu√© pel√≠cula gan√≥ la Palma de Oro en Cannes 2019?",a:"Par√°sitos",aa:["parasite"]},
{id:"cin10",dk:"Cine, TV y Espect√°culos",q:"¬øQui√©n protagoniz√≥ 'Forrest Gump'?",a:"Tom Hanks",aa:["hanks"]},
{id:"cin11",dk:"Cine, TV y Espect√°culos",q:"¬øDe qu√© pa√≠s es originario el flamenco?",a:"Espa√±a",aa:[]},
{id:"cin12",dk:"Cine, TV y Espect√°culos",q:"¬øC√≥mo se llamaba el grupo de los Beatles antes?",a:"The Quarrymen",aa:["quarrymen"]},
{id:"cin13",dk:"Cine, TV y Espect√°culos",q:"¬øQui√©n compuso 'Las cuatro estaciones'?",a:"Vivaldi",aa:["antonio vivaldi"]},
{id:"cin14",dk:"Cine, TV y Espect√°culos",q:"¬øC√≥mo se llama el instrumento m√°s grande de cuerda pulsada en orquesta?",a:"Arpa",aa:[]},
{id:"cin15",dk:"Cine, TV y Espect√°culos",q:"¬øQui√©n gan√≥ el Nobel de Literatura en 2016 siendo m√∫sico?",a:"Bob Dylan",aa:["dylan"]},
{id:"cin16",dk:"Cine, TV y Espect√°culos",q:"¬øCu√°ntos oros ol√≠mpicos tiene Michael Phelps?",a:"23",aa:["veintitr√©s"]},
{id:"cin17",dk:"Cine, TV y Espect√°culos",q:"¬øQu√© pel√≠cula barri√≥ los Oscar 2023 con 7 estatuillas?",a:"Todo a la vez en todas partes",aa:["everything everywhere all at once"]},
{id:"cin18",dk:"Cine, TV y Espect√°culos",q:"¬øQui√©n gan√≥ el Oscar a Mejor Actor por 'Forrest Gump'?",a:"Tom Hanks",aa:["hanks"]},
{id:"cin19",dk:"Cine, TV y Espect√°culos",q:"¬øCu√°ntos Balones de Oro tiene Lionel Messi?",a:"8",aa:["ocho"]},
{id:"cin20",dk:"Cine, TV y Espect√°culos",q:"¬øEn qu√© a√±o gan√≥ Espa√±a su primer Mundial de f√∫tbol?",a:"2010",aa:[]},
{id:"dep01",dk:"Deportes",q:"¬øCu√°ntos jugadores tiene un equipo de f√∫tbol?",a:"11",aa:["once"]},
{id:"dep02",dk:"Deportes",q:"¬øEn qu√© ciudad se celebraron los JJ.OO. de 1992?",a:"Barcelona",aa:[]},
{id:"dep03",dk:"Deportes",q:"¬øCu√°ntos Grand Slams ha ganado Rafael Nadal?",a:"22",aa:["veintid√≥s"]},
{id:"dep04",dk:"Deportes",q:"¬øQu√© selecci√≥n ha ganado m√°s Mundiales de f√∫tbol?",a:"Brasil",aa:[]},
{id:"dep05",dk:"Deportes",q:"¬øCu√°ntos metros mide un marat√≥n?",a:"42.195",aa:["42 kil√≥metros","42195"]},
{id:"dep06",dk:"Deportes",q:"¬øCu√°ntas etapas tiene el Tour de Francia?",a:"21",aa:["veintiuna"]},
{id:"dep07",dk:"Deportes",q:"¬øCu√°ntos puntos vale un triple en baloncesto?",a:"3",aa:["tres"]},
{id:"dep08",dk:"Deportes",q:"¬øCu√°ntos campeonatos tiene Schumacher en F1?",a:"7",aa:["siete"]},
{id:"dep09",dk:"Deportes",q:"¬øEn qu√© superficie se juega Wimbledon?",a:"Hierba",aa:["c√©sped"]},
{id:"dep10",dk:"Deportes",q:"¬øQui√©n tiene el r√©cord mundial de los 100 metros lisos?",a:"Usain Bolt",aa:["bolt"]},
{id:"dep11",dk:"Deportes",q:"¬øCu√°ntos puntos vale un ensayo en rugby?",a:"5",aa:["cinco"]},
{id:"dep12",dk:"Deportes",q:"¬øC√≥mo se llama el estadio del FC Barcelona?",a:"Camp Nou",aa:["spotify camp nou"]},
{id:"dep13",dk:"Deportes",q:"¬øQu√© ciclista espa√±ol gan√≥ el Tour 5 veces seguidas?",a:"Indur√°in",aa:["miguel indur√°in"]},
{id:"dep14",dk:"Deportes",q:"¬øCu√°ntos asaltos tiene un combate de boxeo profesional?",a:"12",aa:["doce"]},
{id:"dep15",dk:"Deportes",q:"¬øCu√°ntos aros tiene la bandera ol√≠mpica?",a:"5",aa:["cinco"]},
{id:"dep16",dk:"Deportes",q:"¬øCada cu√°ntos a√±os se celebran los JJ.OO. de verano?",a:"4",aa:["cuatro"]},
{id:"dep17",dk:"Deportes",q:"¬øCu√°ntos oros ol√≠mpicos tiene Michael Phelps?",a:"23",aa:["veintitr√©s"]},
{id:"dep18",dk:"Deportes",q:"¬øCu√°l es el torneo de golf m√°s antiguo del mundo?",a:"The Open Championship",aa:["british open","the open"]},
{id:"dep19",dk:"Deportes",q:"¬øCu√°ntos Balones de Oro tiene Messi?",a:"8",aa:["ocho"]},
{id:"dep20",dk:"Deportes",q:"¬øCu√°ntos lados tiene un hex√°gono?",a:"6",aa:["seis"]},
{id:"usa01",dk:"Historia EEUU",q:"¬øEn qu√© a√±o se firm√≥ la Declaraci√≥n de Independencia?",a:"1776",aa:[]},
{id:"usa02",dk:"Historia EEUU",q:"¬øQui√©n fue asesinado en el Teatro Ford en 1865?",a:"Lincoln",aa:["abraham lincoln"]},
{id:"usa03",dk:"Historia EEUU",q:"¬øCu√°ntos estados tiene EE.UU.?",a:"50",aa:["cincuenta"]},
{id:"usa04",dk:"Historia EEUU",q:"¬øEn qu√© a√±o comenz√≥ la Guerra de Secesi√≥n?",a:"1861",aa:[]},
{id:"usa05",dk:"Historia EEUU",q:"¬øQui√©n fue el primer presidente afroamericano de EE.UU.?",a:"Obama",aa:["barack obama"]},
{id:"usa06",dk:"Historia EEUU",q:"¬øQu√© evento llev√≥ a EE.UU. a la Segunda Guerra Mundial?",a:"Pearl Harbor",aa:[]},
{id:"usa07",dk:"Historia EEUU",q:"¬øQui√©n fue asesinado en Dallas en 1963?",a:"Kennedy",aa:["john f. kennedy","jfk"]},
{id:"usa08",dk:"Historia EEUU",q:"¬øC√≥mo se llama el esc√°ndalo que oblig√≥ a Nixon a dimitir?",a:"Watergate",aa:[]},
{id:"usa09",dk:"Historia EEUU",q:"¬øQui√©n pronunci√≥ 'I Have a Dream'?",a:"Martin Luther King",aa:["luther king","mlk"]},
{id:"usa10",dk:"Historia EEUU",q:"¬øEn qu√© a√±o llegaron los primeros astronautas a la Luna?",a:"1969",aa:[]},
{id:"usa11",dk:"Historia EEUU",q:"¬øC√≥mo se llama la enmienda que aboli√≥ la esclavitud?",a:"Decimotercera enmienda",aa:["13¬™ enmienda","enmienda 13"]},
{id:"usa12",dk:"Historia EEUU",q:"¬øC√≥mo se llam√≥ la prohibici√≥n del alcohol en EE.UU.?",a:"Ley Seca",aa:["prohibici√≥n"]},
{id:"usa13",dk:"Historia EEUU",q:"¬øEn qu√© a√±o fue el crack de la Bolsa que inici√≥ la Gran Depresi√≥n?",a:"1929",aa:[]},
{id:"usa14",dk:"Historia EEUU",q:"¬øQui√©n orden√≥ las bombas at√≥micas sobre Jap√≥n?",a:"Truman",aa:["harry truman"]},
{id:"usa15",dk:"Historia EEUU",q:"¬øEn qu√© a√±o se hundi√≥ el Titanic?",a:"1912",aa:[]},
{id:"usa16",dk:"Historia EEUU",q:"¬øEn qu√© estado est√° Hollywood?",a:"California",aa:[]},
{id:"usa17",dk:"Historia EEUU",q:"¬øQui√©n compr√≥ Luisiana a Francia?",a:"Thomas Jefferson",aa:["jefferson"]},
{id:"usa18",dk:"Historia EEUU",q:"¬øCu√°ntos presidentes ha tenido EE.UU. hasta 2024?",a:"46",aa:["cuarenta y seis"]},
{id:"usa19",dk:"Historia EEUU",q:"¬øC√≥mo se llama el discurso de Lincoln en Gettysburg?",a:"Gettysburg Address",aa:["discurso de gettysburg"]},
{id:"usa20",dk:"Historia EEUU",q:"¬øContra qu√© pa√≠s luch√≥ EE.UU. en la guerra de Vietnam?",a:"Vietnam del Norte",aa:["vietnam"]},
{id:"nob01",dk:"Premios Nobel",q:"¬øQui√©n fue el primer espa√±ol en ganar el Nobel de Literatura?",a:"Echegaray",aa:["jos√© echegaray"]},
{id:"nob02",dk:"Premios Nobel",q:"¬øQui√©n gan√≥ el Nobel de la Paz en 1993 junto con De Klerk?",a:"Mandela",aa:["nelson mandela"]},
{id:"nob03",dk:"Premios Nobel",q:"¬øQui√©n descubri√≥ la penicilina?",a:"Fleming",aa:["alexander fleming"]},
{id:"nob04",dk:"Premios Nobel",q:"¬øCu√°ntos Nobeles ha ganado Marie Curie?",a:"2",aa:["dos"]},
{id:"nob05",dk:"Premios Nobel",q:"¬øQu√© espa√±ol gan√≥ el Nobel de Literatura en 1989?",a:"Camilo Jos√© Cela",aa:["cela"]},
{id:"nob06",dk:"Premios Nobel",q:"¬øQui√©n fue la persona m√°s joven en ganar el Nobel de la Paz?",a:"Malala",aa:["malala yousafzai"]},
{id:"nob07",dk:"Premios Nobel",q:"¬øQui√©n gan√≥ el Nobel de F√≠sica en 1921 por el efecto fotoel√©ctrico?",a:"Einstein",aa:[]},
{id:"nob08",dk:"Premios Nobel",q:"¬øQu√© poeta chileno gan√≥ el Nobel en 1971?",a:"Pablo Neruda",aa:["neruda"]},
{id:"nob09",dk:"Premios Nobel",q:"¬øQui√©n fund√≥ la Cruz Roja y gan√≥ el primer Nobel de la Paz?",a:"Henry Dunant",aa:["dunant"]},
{id:"nob10",dk:"Premios Nobel",q:"¬øQui√©n gan√≥ el Nobel de Literatura en 2016?",a:"Bob Dylan",aa:["dylan"]},
{id:"nob11",dk:"Premios Nobel",q:"¬øQu√© espa√±ol gan√≥ el Nobel de Medicina en 1906?",a:"Santiago Ram√≥n y Cajal",aa:["ram√≥n y cajal","cajal"]},
{id:"nob12",dk:"Premios Nobel",q:"¬øQui√©n cre√≥ el Premio Nobel?",a:"Alfred Nobel",aa:["nobel"]},
{id:"nob13",dk:"Premios Nobel",q:"¬øQui√©n gan√≥ el Nobel de Literatura en 1982?",a:"Garc√≠a M√°rquez",aa:["gabriel garc√≠a m√°rquez"]},
{id:"nob14",dk:"Premios Nobel",q:"¬øEn qu√© ciudad se entrega el Nobel de la Paz?",a:"Oslo",aa:[]},
{id:"nob15",dk:"Premios Nobel",q:"¬øEn qu√© a√±o se cre√≥ el Nobel de Econom√≠a?",a:"1968",aa:[]},
{id:"nob16",dk:"Premios Nobel",q:"¬øQu√© organizaci√≥n recibi√≥ el Nobel de la Paz en 1977?",a:"Amnist√≠a Internacional",aa:["amnesty international"]},
{id:"nob17",dk:"Premios Nobel",q:"¬øQu√© espa√±ol gan√≥ el Nobel de Literatura en 1977?",a:"Vicente Aleixandre",aa:["aleixandre"]},
{id:"nob18",dk:"Premios Nobel",q:"¬øQu√© escritora polaca gan√≥ el Nobel de Literatura en 2018?",a:"Olga Tokarczuk",aa:["tokarczuk"]},
{id:"nob19",dk:"Premios Nobel",q:"¬øCon qu√© Nobel se reconoci√≥ el descubrimiento del ADN?",a:"Nobel de Medicina",aa:["fisiolog√≠a y medicina"]},
{id:"nob20",dk:"Premios Nobel",q:"¬øQui√©n gan√≥ el Nobel de F√≠sica junto a Marie Curie en 1903?",a:"Pierre Curie",aa:["curie"]},
{id:"mit01",dk:"Mitolog√≠a",q:"¬øQui√©n es el dios griego del mar?",a:"Poseid√≥n",aa:["neptuno"]},
{id:"mit02",dk:"Mitolog√≠a",q:"¬øC√≥mo se llama el mensajero de los dioses griegos?",a:"Hermes",aa:["mercurio"]},
{id:"mit03",dk:"Mitolog√≠a",q:"¬øQui√©n es la diosa griega del amor?",a:"Afrodita",aa:["venus"]},
{id:"mit04",dk:"Mitolog√≠a",q:"¬øC√≥mo se llama el h√©roe griego que mat√≥ al Minotauro?",a:"Teseo",aa:[]},
{id:"mit05",dk:"Mitolog√≠a",q:"¬øQui√©n es el dios griego del sol?",a:"Apolo",aa:[]},
{id:"mit06",dk:"Mitolog√≠a",q:"Con la D: laberinto o confusi√≥n (mitolog√≠a)",a:"d√©dalo",aa:["dedalo"]},
{id:"mit07",dk:"Mitolog√≠a",q:"¬øC√≥mo se llama el r√≠o de los muertos en la mitolog√≠a griega?",a:"Estigia",aa:["estige"]},
{id:"mit08",dk:"Mitolog√≠a",q:"¬øQui√©n encaden√≥ a Prometeo?",a:"Zeus",aa:[]},
{id:"mit09",dk:"Mitolog√≠a",q:"¬øC√≥mo se llama el dios n√≥rdico del trueno?",a:"Thor",aa:[]},
{id:"mit10",dk:"Mitolog√≠a",q:"¬øC√≥mo se llama el perro guardi√°n del Hades?",a:"Cerbero",aa:[]},
{id:"mit11",dk:"Mitolog√≠a",q:"Con la Q: monstruo con cabeza de le√≥n y cola de drag√≥n",a:"quimera",aa:[]},
{id:"mit12",dk:"Mitolog√≠a",q:"¬øQui√©n es el dios griego de la guerra?",a:"Ares",aa:["marte"]},
{id:"mit13",dk:"Mitolog√≠a",q:"¬øC√≥mo se llama la ninfa que se enamor√≥ de Narciso?",a:"Eco",aa:[]},
{id:"mit14",dk:"Mitolog√≠a",q:"¬øC√≥mo se llama el rey que todo lo tocaba se convert√≠a en oro?",a:"Midas",aa:["rey midas"]},
{id:"mit15",dk:"Mitolog√≠a",q:"¬øQui√©n es la diosa griega de la sabidur√≠a?",a:"Atenea",aa:["minerva"]},
{id:"mit16",dk:"Mitolog√≠a",q:"¬øC√≥mo se llaman los gemelos que fundaron Roma?",a:"R√≥mulo y Remo",aa:["romulo y remo"]},
{id:"mit17",dk:"Mitolog√≠a",q:"¬øQu√© h√©roe griego complet√≥ doce trabajos?",a:"H√©rcules",aa:["heracles"]},
{id:"mit18",dk:"Mitolog√≠a",q:"¬øC√≥mo se llama el barquero del Hades?",a:"Caronte",aa:[]},
{id:"mit19",dk:"Mitolog√≠a",q:"¬øQui√©n es el dios griego del vino?",a:"Dioniso",aa:["baco"]},
{id:"mit20",dk:"Mitolog√≠a",q:"Con la E: manifestaci√≥n o revelaci√≥n; festividad del 6 de enero",a:"epifan√≠a",aa:["epifania"]},
];
// ‚ïê‚ïê‚ïê ROSCO QUESTIONS ‚ïê‚ïê‚ïê
const RQ={
A:{d:"Con la A: Sin cabeza o sin jefe",a:"ac√©falo"},
B:{d:"Con la B: Anfibio, seg√∫n la RAE",a:"batracio"},
C:{d:"Con la C: Purificaci√≥n ritual o liberaci√≥n interior profunda",a:"catarsis"},
D:{d:"Con la D: Laberinto, lugar del que es dif√≠cil salir",a:"d√©dalo"},
E:{d:"Con la E: Insigne, ilustre",a:"egregio"},
F:{d:"Con la F: √çdolo con poderes sobrenaturales",a:"fetiche"},
G:{d:"Con la G: Que vive en reba√±o o sigue las ideas ajenas",a:"gregario"},
H:{d:"Con la H: Doctrina que proclama el placer como fin supremo",a:"hedonismo"},
I:{d:"Con la I: Que rechaza la autoridad de maestros y normas",a:"iconoclasta"},
J:{d:"Con la J: Alabanza propia, arrogante y presuntuosa",a:"jactancia"},
K:{d:"Con la K: Acto por el que Dios se despoj√≥ de su condici√≥n divina",a:"k√©nosis"},
L:{d:"Con la L: Breve y conciso en el modo de hablar",a:"lac√≥nico"},
M:{d:"Con la M: Paralizaci√≥n total en lo moral o f√≠sico",a:"marasmo"},
N:{d:"Con la N: Cementerio de gran extensi√≥n con monumentos funerarios",a:"necr√≥polis"},
√ë:{d:"Con la √ë: Dicho de algo soso, aburrido o sensiblero (coloquial)",a:"√±o√±o"},
O:{d:"Con la O: Parte de la metaf√≠sica que trata del ser en general",a:"ontolog√≠a"},
P:{d:"Con la P: Manuscrito antiguo con huellas de escritura anterior borrada",a:"palimpsesto"},
Q:{d:"Con la Q: Monstruo con cabeza de le√≥n, vientre de cabra y cola de drag√≥n",a:"quimera"},
R:{d:"Con la R: Capacidad de adaptaci√≥n frente a un agente perturbador",a:"resiliencia"},
S:{d:"Con la S: Que vive con lujo y refinamiento",a:"sibarita"},
T:{d:"Con la T: Persona que hace o dice que hace milagros",a:"taumaturgo"},
U:{d:"Con la U: Muy abundante y f√©rtil",a:"ub√©rrimo"},
V:{d:"Con la V: Que causa humillaci√≥n o verg√ºenza",a:"vejatorio"},
W:{d:"Con la W: Whisky escoc√©s con denominaci√≥n de origen (anglicismo)",a:"whisky"},
X:{d:"Con la X: Arte de grabar en madera",a:"xilograf√≠a"},
Y:{d:"Con la Y: Inhabitado, despoblado; o sin cultivar",a:"yermo"},
Z:{d:"Con la Z: Bruto y tonto (coloquial)",a:"zopenco"},
};


// ‚ïê‚ïê‚ïê STATE ‚ïê‚ïê‚ïê
const SK='ppro3';
let S={
  selectedDecks:Object.keys(DECKS),
  srs:{},vSRS:{},
  stats:{streak:0,lastDate:'',seen:0,correct:0},
  custom:[],
  settings:{roscoTimer:true},
  aiDecks:{}  // {deckName: [questions generated by AI]}
};
function load(){try{const r=localStorage.getItem(SK);if(r)Object.assign(S,JSON.parse(r));}catch(e){}}
function save(){try{localStorage.setItem(SK,JSON.stringify(S));}catch(e){}}

// Anki SM2
function getSRS(id){return S.srs[id]||{iv:1,ease:2.5,due:0,reps:0,lap:0};}
function rateSRS(id,r){
  let c=getSRS(id);let{iv,ease,reps,lap}=c;
  if(r===0){iv=1;lap++;reps=0;ease=Math.max(1.3,ease-.2);}
  else if(r===1){iv=Math.max(1,Math.round(iv*1.2));ease=Math.max(1.3,ease-.15);}
  else if(r===2){iv=reps===0?1:reps===1?4:Math.round(iv*ease);reps++;}
  else{iv=reps===0?1:reps===1?4:Math.round(iv*ease*1.3);ease+=.15;reps++;}
  S.srs[id]={iv,ease,due:Date.now()+iv*86400000,reps,lap};save();
}
function allQ(){return[...QQ,...S.custom.filter(v=>v.a),...Object.values(S.aiDecks).flat()];}
function getDue(){
  const now=Date.now(),sel=new Set(S.selectedDecks);
  return allQ().filter(q=>sel.has(q.dk)&&(getSRS(q.id).due<=now||getSRS(q.id).reps===0))
    .sort((a,b)=>{const ar=getSRS(a.id).reps===0,br=getSRS(b.id).reps===0;if(ar&&!br)return -1;if(!ar&&br)return 1;return getSRS(a.id).due-getSRS(b.id).due;});
}
function norm(s){return(s||'').toLowerCase().normalize('NFD').replace(/[\u0300-\u036f]/g,'').replace(/[^a-z0-9\s]/g,'').trim().replace(/\s+/g,' ');}
function lev(a,b){if(Math.abs(a.length-b.length)>2)return 99;const m=[];for(let i=0;i<=a.length;i++){m[i]=[i];for(let j=1;j<=b.length;j++)m[i][j]=i===0?j:Math.min(m[i-1][j]+1,m[i][j-1]+1,m[i-1][j-1]+(a[i-1]!==b[j-1]?1:0));}return m[a.length][b.length];}
function chk(inp,q){const n=norm(inp);if(!n)return false;for(const t of[q.a,...(q.aa||[])].map(norm)){if(n===t||t.length>4&&lev(n,t)<=1)return true;}return false;}
function shuf(a){const b=[...a];for(let i=b.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[b[i],b[j]]=[b[j],b[i]];}return b;}

// ‚ïê‚ïê‚ïê NAV ‚ïê‚ïê‚ïê
function goTo(id){
  document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  if(id==='home')renderHome();
  if(id==='stats')renderStats();
  if(id==='ai-decks')renderAIDecks();
}

// ‚ïê‚ïê‚ïê HOME ‚ïê‚ïê‚ïê
function renderHome(){
  document.getElementById('h-v').textContent=S.stats.seen||0;
  document.getElementById('h-a').textContent=S.stats.seen>0?Math.round((S.stats.correct/S.stats.seen)*100)+'%':'0%';
  document.getElementById('h-p').textContent=Math.min(getDue().length,99);
  document.getElementById('h-r').textContent=S.stats.streak||0;
  const el=document.getElementById('deck-list');el.innerHTML='';
  // Built-in decks
  for(const[name,info]of Object.entries(DECKS)){
    const sel=S.selectedDecks.includes(name);
    const cnt=QQ.filter(q=>q.dk===name).length;
    const d=document.createElement('div');d.className='di'+(sel?' sel':'');
    d.innerHTML='<div class="di-icon">'+info.icon+'</div><div style="flex:1"><div class="di-name">'+name+'</div><div class="di-ct">'+cnt+' preguntas</div></div><div class="di-chk">'+(sel?'‚úì':'')+'</div>';
    d.onclick=()=>{if(sel){if(S.selectedDecks.length>1)S.selectedDecks=S.selectedDecks.filter(x=>x!==name);}else S.selectedDecks.push(name);save();renderHome();};
    el.appendChild(d);
  }
  // AI decks
  for(const[name,qs]of Object.entries(S.aiDecks)){
    const sel=S.selectedDecks.includes(name);
    const d=document.createElement('div');d.className='di'+(sel?' sel':'');
    d.innerHTML='<div class="di-icon">ü§ñ</div><div style="flex:1"><div class="di-name">'+name+'</div><div class="di-ct">'+qs.length+' preguntas ¬∑ IA</div></div><div class="di-chk">'+(sel?'‚úì':'')+'</div>';
    d.onclick=()=>{if(sel){if(S.selectedDecks.length>1)S.selectedDecks=S.selectedDecks.filter(x=>x!==name);}else S.selectedDecks.push(name);save();renderHome();};
    el.appendChild(d);
  }
}

// ‚ïê‚ïê‚ïê TRAIN ‚ïê‚ïê‚ïê
let tQ=[],tI=0,tC=0,tW=0,tDone=false;
function startMode(mode){
  const sel=new Set(S.selectedDecks);
  let qs;
  if(mode==='srs'){qs=getDue().slice(0,50);if(!qs.length){alert('¬°Todo al d√≠a! No hay preguntas pendientes.');return;}}
  else{qs=shuf(allQ().filter(q=>sel.has(q.dk))).slice(0,50);if(!qs.length){alert('Selecciona al menos un mazo.');return;}}
  tQ=qs;tI=0;tC=0;tW=0;
  goTo('train');loadQ();
}
function loadQ(){
  if(tI>=tQ.length){showSum();return;}
  tDone=false;
  const q=tQ[tI];
  document.getElementById('t-dk').textContent=(DECKS[q.dk]?.icon||'ü§ñ')+' '+q.dk;
  document.getElementById('t-lbl').textContent='PREGUNTA '+(tI+1)+'/'+tQ.length;
  document.getElementById('t-q').textContent=q.q;
  const ai=document.getElementById('t-ai');ai.value='';ai.className='ai';ai.disabled=false;
  document.getElementById('t-sub').style.display='';
  document.getElementById('t-fb').className='fb';
  document.getElementById('t-anki').className='anki-row';
  document.getElementById('t-pb').style.width=(tI/tQ.length*100)+'%';
  document.getElementById('t-ct').textContent=(tI+1)+'/'+tQ.length;
  setTimeout(()=>ai.focus(),100);
}
function subAns(){
  if(tDone)return;
  const q=tQ[tI],val=document.getElementById('t-ai').value.trim();
  if(!val)return;
  tDone=true;
  const ai=document.getElementById('t-ai');ai.disabled=true;
  document.getElementById('t-sub').style.display='none';
  const ok=chk(val,q);
  if(ok){tC++;ai.className='ai ok';}else{tW++;ai.className='ai bad';}
  const fb=document.getElementById('t-fb');fb.className='fb '+(ok?'ok':'bad')+' show';
  document.getElementById('t-fb-a').textContent=ok?'‚úÖ ¬°Correcto!':'‚ùå Respuesta: '+q.a;
  S.stats.seen=(S.stats.seen||0)+1;
  if(ok)S.stats.correct=(S.stats.correct||0)+1;
  save();
  document.getElementById('t-anki').className='anki-row show';
}
function rateQ(r){rateSRS(tQ[tI].id,r);tI++;loadQ();}
function skipQ(){
  if(!tDone){
    tDone=true;tW++;
    const ai=document.getElementById('t-ai');ai.disabled=true;
    document.getElementById('t-sub').style.display='none';
    const q=tQ[tI];
    document.getElementById('t-fb').className='fb bad show';
    document.getElementById('t-fb-a').textContent='‚ùå Respuesta: '+q.a;
    S.stats.seen=(S.stats.seen||0)+1;save();
    document.getElementById('t-anki').className='anki-row show';
  }
}
function showSum(){
  const total=tC+tW,pct=total>0?Math.round(tC/total*100):0;
  const msgs90=['üèÜ ¬°Brillante! Tu madre estar√≠a orgullosa... si supiera lo que es un palimpsesto','üèÜ ¬°Sobresaliente! Esto ya no es estudiar, es vocaci√≥n de concursante'];
  const msgs70=['üéâ ¬°Muy bien! La enfermera de UCI que hay en ti lo da todo','üéâ Notable alto. Con este nivel ya puedes presumir en el turno de noche'];
  const msgs50=['üòä Aprobado. Sigue as√≠ y en tres semanas le explicas la catarsis a tus pacientes','üòä Bien, pero la quimera de llegar al rosco a√∫n est√° lejos... ¬°a estudiar!'];
  const msgsFail=['üí™ √Ånimo. Hasta Homero dormitaba. T√∫ eres la rapsoda del conocimiento','üí™ No pasa nada. La resiliencia es exactamente esto ‚Äî volver a intentarlo'];
  const pool=pct>=90?msgs90:pct>=70?msgs70:pct>=50?msgs50:msgsFail;
  const msg=pool[Math.floor(Math.random()*pool.length)];
  const parts=msg.split(' ');
  document.getElementById('sum-e').textContent=parts[0];
  document.getElementById('sum-t').textContent=parts.slice(1).join(' ');
  document.getElementById('sum-c').textContent=tC;
  document.getElementById('sum-w').textContent=tW;
  updStreak();goTo('summary');
}
function updStreak(){
  const today=new Date().toDateString();
  if(S.stats.lastDate!==today){
    const yest=new Date(Date.now()-86400000).toDateString();
    S.stats.streak=S.stats.lastDate===yest?(S.stats.streak||0)+1:1;
    S.stats.lastDate=today;save();
  }
}

// ‚ïê‚ïê‚ïê VOCAB ‚ïê‚ïê‚ïê
let vQ=[],vI=0,vFlip=false;
function startVocab(){
  const all=[...VOCAB,...S.custom.filter(v=>v.definition_ES)];
  vQ=shuf(all).sort((a,b)=>{const o={no:0,rev:1,si:2};return(o[S.vSRS[a.id]]??1)-(o[S.vSRS[b.id]]??1);}).slice(0,50);
  vI=0;vFlip=false;goTo('vocab');loadV();
}
function loadV(){
  if(vI>=vQ.length){goTo('home');return;}
  vFlip=false;
  const v=vQ[vI];
  document.getElementById('vcard').className='vcard';
  const def=v.definition_ES||'(Sin definici√≥n)';
  const dot2=def.indexOf('2.');
  const front=dot2>0?def.slice(0,dot2).trim():def;
  document.getElementById('v-fd').textContent=front;
  document.getElementById('v-tags').innerHTML=(v.topic_tags||[]).map(t=>'<span class="vtag">'+t+'</span>').join('');
  document.getElementById('v-w').textContent=v.word;
  document.getElementById('v-bd').textContent=def;
  const sin=document.getElementById('v-sin');
  if(v.sin√≥nimos&&v.sin√≥nimos.trim()){sin.style.display='block';document.getElementById('v-sin-t').textContent=v.sin√≥nimos;}else sin.style.display='none';
  const ex=document.getElementById('v-ex');
  if(v.example_sentence&&v.example_sentence.trim()){ex.style.display='block';document.getElementById('v-ex-t').textContent=v.example_sentence;}else ex.style.display='none';
  const tip=document.getElementById('v-tip');
  if(v.memory_tip&&v.memory_tip.trim()){tip.style.display='block';document.getElementById('v-tip-t').textContent=v.memory_tip;}else tip.style.display='none';
  document.getElementById('v-rae').href='https://dle.rae.es/'+encodeURIComponent(v.word.toLowerCase());
  document.getElementById('v-rate').style.display='none';
  document.getElementById('v-pb').style.width=(vI/vQ.length*100)+'%';
  document.getElementById('v-ct').textContent=(vI+1)+'/'+vQ.length;
}
function flipCard(){if(vFlip)return;vFlip=true;document.getElementById('vcard').className='vcard flipped';document.getElementById('v-rate').style.display='flex';}
function rateV(r){S.vSRS[vQ[vI].id]=r;save();vI++;loadV();}

// ‚ïê‚ïê‚ïê ROSCO ‚ïê‚ïê‚ïê
const LTRS='ABCDEFGHIJKLMN√ëOPQRSTUVWXYZ'.split('');
let rSt={},rCur='A',rTmr=null,rSec=150;
function startRosco(){
  rSt={};LTRS.forEach(l=>rSt[l]='pend');
  rCur='A';rSec=150;buildRSVG();goTo('rosco');
  hlLetter('A');showRDef('A');
  startRTmr();updRStats();
}
function buildRSVG(){
  const svg=document.getElementById('rosco-svg');
  const cx=130,cy=130,r=112,n=LTRS.length;let h='';
  for(let i=0;i<n;i++){
    const a=(i/n)*2*Math.PI-Math.PI/2;
    const x=(cx+r*Math.cos(a)).toFixed(1),y=(cy+r*Math.sin(a)).toFixed(1),l=LTRS[i];
    h+=`<g class="rl" id="rl-${l}" onclick="selLetter('${l}')"><circle cx="${x}" cy="${y}" r="12" fill="#1e1e2e" stroke="#2a2a38" stroke-width="1.5" id="rc-${l}"/><text x="${x}" y="${(parseFloat(y)+4).toFixed(1)}" text-anchor="middle" font-size="10" font-family="Syne" font-weight="700" fill="#f0f0f5" id="rt-${l}">${l}</text></g>`;
  }
  svg.innerHTML=h;
}
function selLetter(l){
  if(rSt[l]==='ok'||rSt[l]==='bad')return;
  rCur=l;hlLetter(l);showRDef(l);
  document.getElementById('r-in').value='';
  document.getElementById('r-in').focus();
}
function hlLetter(cur){
  LTRS.forEach(l=>{
    const c=document.getElementById('rc-'+l),t=document.getElementById('rt-'+l);
    if(!c)return;
    const s=rSt[l];
    c.setAttribute('fill',s==='ok'?'#1a3a2a':s==='bad'?'#3a1a1a':s==='pasa'?'#1a1a2a':l===cur?'#2a2a0a':'#1e1e2e');
    c.setAttribute('stroke',s==='ok'?'#3ecf72':s==='bad'?'#ff5555':s==='pasa'?'#4a9eff':l===cur?'#f5c842':'#2a2a38');
    c.setAttribute('stroke-width',l===cur?'2.5':'1.5');
    t.setAttribute('fill',s==='ok'?'#3ecf72':s==='bad'?'#ff5555':s==='pasa'?'#4a9eff':l===cur?'#f5c842':'#f0f0f5');
  });
}
function showRDef(l){document.getElementById('r-def').textContent=RQ[l]?RQ[l].d:'...';}
function subRosco(){
  const val=document.getElementById('r-in').value.trim();
  if(!val||!rCur)return;
  const q=RQ[rCur];if(!q)return;
  const ok=norm(val)===norm(q.a)||lev(norm(val),norm(q.a))<=1;
  rSt[rCur]=ok?'ok':'bad';updRStats();hlLetter(rCur);
  document.getElementById('r-in').value='';
  if(!ok){document.getElementById('r-def').textContent='‚ùå Era: '+q.a;setTimeout(()=>nextRL(),1600);}else nextRL();
}
function pasaR(){if(!rCur)return;rSt[rCur]='pasa';hlLetter(rCur);document.getElementById('r-in').value='';nextRL();}
function nextRL(){
  const pend=LTRS.filter(l=>rSt[l]==='pend'||rSt[l]==='pasa');
  if(!pend.length){stopRosco();return;}
  const nxt=LTRS.find(l=>rSt[l]==='pasa')||pend[0];
  rCur=nxt;hlLetter(nxt);showRDef(nxt);document.getElementById('r-in').focus();
}
function updRStats(){
  const c=LTRS.filter(l=>rSt[l]==='ok').length,w=LTRS.filter(l=>rSt[l]==='bad').length,p=LTRS.filter(l=>rSt[l]==='pend'||rSt[l]==='pasa').length;
  document.getElementById('r-c').textContent=c;document.getElementById('r-w').textContent=w;document.getElementById('r-p').textContent=p;
  document.getElementById('r-sc').textContent=c+'‚úÖ '+w+'‚ùå';
}
function startRTmr(){
  if(rTmr)clearInterval(rTmr);
  rTmr=setInterval(()=>{
    rSec--;const m=Math.floor(rSec/60),s=rSec%60;
    const el=document.getElementById('r-ti');
    el.textContent=m+':'+(s<10?'0':'')+s;
    el.style.color=rSec<=30?'var(--red)':'var(--gold)';
    if(rSec<=0)stopRosco();
  },1000);
}
function stopRosco(){
  if(rTmr){clearInterval(rTmr);rTmr=null;}
  const c=LTRS.filter(l=>rSt[l]==='ok').length,w=LTRS.filter(l=>rSt[l]==='bad').length;
  document.getElementById('sum-e').textContent=c>=22?'üèÜ':c>=16?'üéâ':c>=10?'üòä':'üí™';
  document.getElementById('sum-t').textContent='Rosco: '+c+'/'+LTRS.length+' correctas';
  document.getElementById('sum-c').textContent=c;document.getElementById('sum-w').textContent=w;
  goTo('summary');
}

// ‚ïê‚ïê‚ïê STATS ‚ïê‚ïê‚ïê
function renderStats(){
  document.getElementById('st-t').textContent=S.stats.seen||0;
  document.getElementById('st-p').textContent=S.stats.seen>0?Math.round((S.stats.correct/S.stats.seen)*100)+'%':'0%';
  document.getElementById('st-r').textContent=S.stats.streak||0;
  const el=document.getElementById('st-dk');el.innerHTML='';
  for(const[name,info]of Object.entries(DECKS)){
    const qs=QQ.filter(q=>q.dk===name),seen=qs.filter(q=>(S.srs[q.id]?.reps||0)>0).length;
    const pct=qs.length>0?Math.round(seen/qs.length*100):0;
    el.innerHTML+=`<div class="dp"><div class="dp-h"><span class="dp-n">${info.icon} ${name}</span><span class="dp-p">${pct}%</span></div><div class="dpbar"><div class="dpfill" style="width:${pct}%"></div></div></div>`;
  }
  for(const[name,qs]of Object.entries(S.aiDecks)){
    const seen=qs.filter(q=>(S.srs[q.id]?.reps||0)>0).length;
    const pct=qs.length>0?Math.round(seen/qs.length*100):0;
    el.innerHTML+=`<div class="dp"><div class="dp-h"><span class="dp-n">ü§ñ ${name}</span><span class="dp-p">${pct}%</span></div><div class="dpbar"><div class="dpfill" style="width:${pct}%"></div></div></div>`;
  }
}

// ‚ïê‚ïê‚ïê AI DECK GENERATOR ‚ïê‚ïê‚ïê
function renderAIDecks(){
  const el=document.getElementById('ai-deck-list');el.innerHTML='';
  for(const[name,qs]of Object.entries(S.aiDecks)){
    const d=document.createElement('div');
    d.className='ai-deck-item';
    d.innerHTML=`<div style="flex:1"><div style="font-weight:600">${name}</div><div style="font-size:12px;color:var(--text2)">${qs.length} preguntas generadas</div></div><button class="ai-more-btn" onclick="generateMore('${name}')">+50 m√°s</button><button class="ai-del-btn" onclick="deleteDeck('${name}')">üóëÔ∏è</button>`;
    el.appendChild(d);
  }
  if(!Object.keys(S.aiDecks).length) el.innerHTML='<div style="color:var(--text2);font-size:13px;text-align:center;padding:20px">A√∫n no hay mazos IA. ¬°Crea el primero!</div>';
}

async function createAIDeck(){
  const topicEl=document.getElementById('ai-topic');
  const topic=topicEl.value.trim();
  if(!topic){alert('Escribe un tema primero.');return;}
  const btn=document.getElementById('ai-create-btn');
  btn.textContent='‚è≥ Generando...';btn.disabled=true;
  try{
    const qs=await generateQuestions(topic,50);
    if(!qs||!qs.length){alert('No se pudo generar. Intenta de nuevo.');return;}
    S.aiDecks[topic]=(S.aiDecks[topic]||[]).concat(qs);
    if(!S.selectedDecks.includes(topic))S.selectedDecks.push(topic);
    save();topicEl.value='';
    renderAIDecks();renderHome();
    alert('‚úÖ Mazo "'+topic+'" creado con '+qs.length+' preguntas.');
  }catch(e){alert('Error: '+e.message);}
  finally{btn.textContent='‚ú® Generar mazo';btn.disabled=false;}
}

async function generateMore(topic){
  const btn=event.target;btn.textContent='‚è≥...';btn.disabled=true;
  try{
    const existing=S.aiDecks[topic]||[];
    const qs=await generateQuestions(topic,50,existing);
    S.aiDecks[topic]=existing.concat(qs);
    save();renderAIDecks();
    alert('‚úÖ +'+qs.length+' preguntas a√±adidas a "'+topic+'"');
  }catch(e){alert('Error: '+e.message);}
  finally{btn.textContent='+50 m√°s';btn.disabled=false;}
}

function deleteDeck(name){
  if(!confirm('¬øBorrar el mazo "'+name+'"?'))return;
  delete S.aiDecks[name];
  S.selectedDecks=S.selectedDecks.filter(x=>x!==name);
  save();renderAIDecks();renderHome();
}

async function generateQuestions(topic, count, existing=[]){
  const existingAnswers=existing.map(q=>q.a).join(', ');
  const prompt=`Eres un experto en el concurso Pasapalabra de Antena 3 (Espa√±a). Genera exactamente ${count} preguntas de trivia en espa√±ol sobre el tema: "${topic}".

REGLAS IMPORTANTES:
- Muchas preguntas deben seguir el formato "Con la [LETRA]: [definici√≥n o pista]" igual que en Pasapalabra
- Las dem√°s pueden ser preguntas directas de cultura general
- Dificultad variada (f√°cil, media, dif√≠cil)
- Respuestas cortas (1-4 palabras)
- NO repitas estas respuestas ya usadas: ${existingAnswers||'ninguna'}
- Responde SOLO con JSON v√°lido, sin texto adicional, sin markdown

Formato exacto:
[
  {"id":"${topic.slice(0,3).toLowerCase().replace(/\s/,'_')}_${Date.now()}_1","dk":"${topic}","q":"Con la A: Capital de Australia","a":"Canberra","aa":[]},
  {"id":"...","dk":"${topic}","q":"¬øQui√©n...?","a":"respuesta","aa":["alternativa1"]}
]`;

  const response=await fetch('https://api.anthropic.com/v1/messages',{
    method:'POST',
    headers:{'Content-Type':'application/json'},
    body:JSON.stringify({
      model:'claude-sonnet-4-20250514',
      max_tokens:4000,
      messages:[{role:'user',content:prompt}]
    })
  });
  if(!response.ok)throw new Error('API error '+response.status);
  const data=await response.json();
  const text=data.content?.[0]?.text||'';
  const clean=text.replace(/```json|```/g,'').trim();
  const parsed=JSON.parse(clean);
  // Ensure unique IDs
  return parsed.map((q,i)=>({...q,id:`${topic.slice(0,4).toLowerCase().replace(/[^a-z]/g,'')}_${Date.now()}_${i}`}));
}

// ‚ïê‚ïê‚ïê IMPORT / EXPORT ‚ïê‚ïê‚ïê
function addWord(){
  const w=document.getElementById('iw').value.trim(),d=document.getElementById('id2').value.trim();
  if(!w||!d){alert('Palabra y definici√≥n son obligatorias.');return;}
  S.custom.push({id:'c'+Date.now(),word:w,definition_ES:d,sin√≥nimos:document.getElementById('isin').value.trim(),example_sentence:document.getElementById('iex').value.trim(),memory_tip:document.getElementById('itip').value.trim(),topic_tags:['personalizado'],dk:'Vocabulario',q:null,a:null,aa:[]});
  save();['iw','id2','isin','iex','itip'].forEach(i=>document.getElementById(i).value='');
  alert('‚úÖ "'+w+'" a√±adida.');
}
function exportD(){const b=new Blob([JSON.stringify(S,null,2)],{type:'application/json'});const a=document.createElement('a');a.href=URL.createObjectURL(b);a.download='ppro_progreso.json';a.click();}
function importD(){try{Object.assign(S,JSON.parse(document.getElementById('ijson').value));save();alert('‚úÖ Importado.');goTo('home');}catch(e){alert('Error al importar.');}}
function resetP(){S.srs={};S.vSRS={};S.stats={streak:0,lastDate:'',seen:0,correct:0};S.aiDecks={};save();renderHome();alert('Progreso reiniciado.');}

function setTopic(t){document.getElementById('ai-topic').value=t;}

// ‚ïê‚ïê‚ïê BOOT ‚ïê‚ïê‚ïê
load();renderHome();

</script>
</body>
</html>
